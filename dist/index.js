!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(global,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e){t.exports=require("path")},function(t,e,n){var r,o,i=n(12),c=n(30),s=n(32),a=n(34),u=n(16);function f(t,e){Object.defineProperty(t,r,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",o="___graceful-fs.previous");var l,p=function(){};if(u.debuglog?p=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!i[r]){var y=global[r]||[];f(i,y),i.close=function(t){function e(e,n){return t.call(i,e,(function(t){t||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(e,o,{value:t}),e}(i.close),i.closeSync=function(t){function e(e){t.apply(i,arguments),m()}return Object.defineProperty(e,o,{value:t}),e}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){p(i[r]),n(17).equal(i[r].length,0)}))}function d(t){c(t),t.gracefulify=d,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,o,i){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof o&&o.apply(this,arguments):h([t,[n,r,o],e,i||Date.now(),Date.now()])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,o){"function"==typeof r&&(o=r,r=null);return function t(e,r,o,i,c){return n(e,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):h([t,[e,r,o,i],n,c||Date.now(),Date.now()])}))}(t,e,r,o)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,o){"function"==typeof n&&(o=n,n=null);return function t(e,n,o,i,c){return r(e,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):h([t,[e,n,o,i],r,c||Date.now(),Date.now()])}))}(t,e,n,o)});var o=t.copyFile;o&&(t.copyFile=function(t,e,n,r){"function"==typeof n&&(r=n,n=0);return function t(e,n,r,i,c){return o(e,n,r,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):h([t,[e,n,r,i],o,c||Date.now(),Date.now()])}))}(t,e,n,r)});var i=t.readdir;if(t.readdir=function(t,e,n){"function"==typeof e&&(n=e,e=null);return function t(e,n,r,o){return i(e,n,(function(i,c){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(c&&c.sort&&c.sort(),"function"==typeof r&&r.call(this,i,c)):h([t,[e,n,r],i,o||Date.now(),Date.now()])}))}(t,e,n)},"v0.8"===process.version.substr(0,4)){var a=s(t);y=a.ReadStream,m=a.WriteStream}var u=t.ReadStream;u&&(y.prototype=Object.create(u.prototype),y.prototype.open=function(){var t=this;E(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var f=t.WriteStream;f&&(m.prototype=Object.create(f.prototype),m.prototype.open=function(){var t=this;E(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return m},set:function(t){m=t},enumerable:!0,configurable:!0});var l=y;Object.defineProperty(t,"FileReadStream",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0});var p=m;function y(t,e){return this instanceof y?(u.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function m(t,e){return this instanceof m?(f.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return p},set:function(t){p=t},enumerable:!0,configurable:!0});var v=t.open;function E(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,o,i){return v(e,n,r,(function(c,s){!c||"EMFILE"!==c.code&&"ENFILE"!==c.code?"function"==typeof o&&o.apply(this,arguments):h([t,[e,n,r,o],c,i||Date.now(),Date.now()])}))}(t,e,n,r)}return t.open=E,t}function h(t){p("ENQUEUE",t[0].name,t[1]),i[r].push(t),v()}function m(){for(var t=Date.now(),e=0;e<i[r].length;++e)i[r][e].length>2&&(i[r][e][3]=t,i[r][e][4]=t);v()}function v(){if(clearTimeout(l),l=void 0,0!==i[r].length){var t=i[r].shift(),e=t[0],n=t[1],o=t[2],c=t[3],s=t[4];if(void 0===c)p("RETRY",e.name,n),e.apply(null,n);else if(Date.now()-c>=6e4){p("TIMEOUT",e.name,n);var a=n.pop();"function"==typeof a&&a.call(null,o)}else{var u=Date.now()-s,f=Math.max(s-c,1);u>=Math.min(1.2*f,100)?(p("RETRY",e.name,n),e.apply(null,n.concat([c]))):i[r].push(t)}void 0===l&&(l=setTimeout(v,0))}}global[r]||f(global,i[r]),t.exports=d(a(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(t.exports=d(i),i.__patched=!0)},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise((n,r)=>{t.call(this,...e,(t,e)=>null!=t?r(t):n(e))});t.apply(this,e)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(...e){const n=e[e.length-1];if("function"!=typeof n)return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(t=>n(null,t),n)}),"name",{value:t.name})}},function(t,e,n){"use strict";const r=n(2).fromPromise,{makeDir:o,makeDirSync:i}=n(36),c=r(o);t.exports={mkdirs:c,mkdirsSync:i,mkdirp:c,mkdirpSync:i,ensureDir:c,ensureDirSync:i}},function(t,e){var n=new RegExp("====>>>>","g");t.exports={SUFFIX_DEEP:"--remove--deep--hoisted",SUFFIX_COMMON:"--remove--common--hoisted",SUFFIX_SAME_FILE_COMMON:"--remove--same--file--common--hoisted",SAME_SELECTOR:"$$$$same",HAS_PATCHED:"$$$$haspatched",LEVEL_FLAG:"====>>>>",ROOT_SELECTOR:"root",LEVEL_FLAG_REG:n,DO_NOT_CHECK_REG:/(\.el-)|(\/deep\/)|(:{1,2}[-a-zA-Z]*)/,INHERIT_CSS_PROPS:["font-family","font-weight","font-size","color","text-align","line-height","letter-spacing","cursor"],LINE_BREAK_REG:/\n|\r/g,KEEP_CSS_RULE_REG:/(\.el-)|(\/deep\/)|(:)|(@media)|(@keyframes)/,ROUGH_PATH_REG:/(?<!\/{2,}\s*)import(?:(\s*?\()|(\s+?.*?))['"]((\.\/|\.\.\/|@\/).*?)['"]\)?/g,ACCURATE_PATH_REG:/(?<=import(?:(\s*?\()|(\s+?.*?))['"])((\.\/|\.\.\/|@\/).*?)(?=['"]\)?)/g,USEFUL_EXTENSION_REG:/(\.vue$|\.css$|\.less$)/,USELESS_EXTENSION_REG:/.js$/,VUE_FILE_REG:/\.vue$/,CSS_FILE_REG:/\.css$/,LESS_FILE_REG:/\.less$/,STYLE_WITH_TAG_REG:/(?<!\/{2,}\s*)(<style\s*?.*?>)([\s\S]*?)(?=\/\*[\s\S]*?\*\/)*[\s\S]*?(<\/style>)/g,ANNOTATION_REG:/(\s*\/\*[\s\S]*?\*\/)|(\s*\/{2,}[\s\S]*?(\n|\r))|(\s*@import\s*.*?;)/g,STYLE_START_REG:/(<style\s{0,}.*?>)/,IMPORT_CSS_REG:/(?<!\/{2,}\s*)(@import\s+.*?;)/g,CSS_CONTENT_REG:/\s*<style\s*?.*?>\s+(\s*\/{0,}\s*@import\s+.*?;.*)*([\s\S]*?)(?=<\/style>)/,SAME_LEVEL_REG:/\s*\&(.*?)/g,CHILD_LEVEL_REG:/\s*\&\s*\>\s*/g,START_WITH_LETTER:/^[a-zA-Z]/,DIVIDE_SELECTORS:/,(\s+)?/g,SORTED_PROPERTY:["display","position","float","left","top","right","bottom","clear","visibility","z-index","overflow","width","min-width","max-width","height","min-height","max-height","margin","padding","border","flex","align-items","flex-direction","background","line-height","font-size","font","color","text-decoration","text-align","justify-content","vertical-align","white-space","break-word","letter-spacing"]}},function(t,e){var n=function(t){return Object.prototype.toString.call(t).slice(8,-1)};t.exports={isNumber:function(t){return"Number"===n(t)},isObject:function(t){return"Object"===n(t)},isArray:function(t){return"Array"===n(t)},isEmptyObject:function(t){for(var e in t)return!1;return!0},deepClone:function(t){return JSON.parse(JSON.stringify(t))},getInnermostLevel:function(t,e){if(!t.length)return e;for(var n=0;n<t.length;n++){var r=t[n];!e[r]&&(e[r]={}),e=e[r]}return e}}},function(t,e,n){"use strict";const r=n(2).fromPromise,o=n(7);t.exports={pathExists:r((function(t){return o.access(t).then(()=>!0).catch(()=>!1)})),pathExistsSync:o.existsSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(1),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof o[t]);Object.assign(e,o),i.forEach(t=>{e[t]=r(o[t])}),e.realpath.native=r(o.realpath.native),e.exists=function(t,e){return"function"==typeof e?o.exists(t,e):new Promise(e=>o.exists(t,e))},e.read=function(t,e,n,r,i,c){return"function"==typeof c?o.read(t,e,n,r,i,c):new Promise((c,s)=>{o.read(t,e,n,r,i,(t,e,n)=>{if(t)return s(t);c({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?o.write(t,e,...n):new Promise((r,i)=>{o.write(t,e,...n,(t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffer:n})})})},"function"==typeof o.writev&&(e.writev=function(t,e,...n){return"function"==typeof n[n.length-1]?o.writev(t,e,...n):new Promise((r,i)=>{o.writev(t,e,...n,(t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffers:n})})})})},function(t,e,n){"use strict";const r=n(7),o=n(0),i=n(16);function c(t,e,n){const o=n.dereference?t=>r.stat(t,{bigint:!0}):t=>r.lstat(t,{bigint:!0});return Promise.all([o(t),o(e).catch(t=>{if("ENOENT"===t.code)return null;throw t})]).then(([t,e])=>({srcStat:t,destStat:e}))}function s(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function a(t,e){const n=o.resolve(t).split(o.sep).filter(t=>t),r=o.resolve(e).split(o.sep).filter(t=>t);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function u(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,n,r,f){i.callbackify(c)(t,e,r,(r,i)=>{if(r)return f(r);const{srcStat:c,destStat:l}=i;if(l){if(s(c,l)){const r=o.basename(t),i=o.basename(e);return"move"===n&&r!==i&&r.toLowerCase()===i.toLowerCase()?f(null,{srcStat:c,destStat:l,isChangingCase:!0}):f(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!l.isDirectory())return f(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!c.isDirectory()&&l.isDirectory())return f(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return c.isDirectory()&&a(t,e)?f(new Error(u(t,e,n))):f(null,{srcStat:c,destStat:l})})},checkPathsSync:function(t,e,n,i){const{srcStat:c,destStat:f}=function(t,e,n){let o;const i=n.dereference?t=>r.statSync(t,{bigint:!0}):t=>r.lstatSync(t,{bigint:!0}),c=i(t);try{o=i(e)}catch(t){if("ENOENT"===t.code)return{srcStat:c,destStat:null};throw t}return{srcStat:c,destStat:o}}(t,e,i);if(f){if(s(c,f)){const r=o.basename(t),i=o.basename(e);if("move"===n&&r!==i&&r.toLowerCase()===i.toLowerCase())return{srcStat:c,destStat:f,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(c.isDirectory()&&!f.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!c.isDirectory()&&f.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(c.isDirectory()&&a(t,e))throw new Error(u(t,e,n));return{srcStat:c,destStat:f}},checkParentPaths:function t(e,n,i,c,a){const f=o.resolve(o.dirname(e)),l=o.resolve(o.dirname(i));if(l===f||l===o.parse(l).root)return a();r.stat(l,{bigint:!0},(r,o)=>r?"ENOENT"===r.code?a():a(r):s(n,o)?a(new Error(u(e,i,c))):t(e,n,l,c,a))},checkParentPathsSync:function t(e,n,i,c){const a=o.resolve(o.dirname(e)),f=o.resolve(o.dirname(i));if(f===a||f===o.parse(f).root)return;let l;try{l=r.statSync(f,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(s(n,l))throw new Error(u(e,i,c));return t(e,n,f,c)},isSrcSubdir:a,areIdentical:s}},function(t,e,n){"use strict";const r=n(1),o=n(2).fromCallback,i=n(40);t.exports={remove:o((function(t,e){if(r.rm)return r.rm(t,{recursive:!0,force:!0},e);i(t,e)})),removeSync:function(t){if(r.rmSync)return r.rmSync(t,{recursive:!0,force:!0});i.sync(t)}}},function(t,e){t.exports=require("fs/promises")},function(t,e,n){function r(t,e,n,r,o,i,c){try{var s=t[i](c),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(r,o)}var o=n(10),i=n(15),c=n(0),s=n(12).constants,a=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.access(e,s.F_OK);case 3:return t.abrupt("return",e);case 6:return t.prev=6,t.t0=t.catch(0),n=c.join(process.cwd(),e),console.log(n),t.prev=10,t.next=13,o.access(n,s.F_OK);case 13:return t.abrupt("return",n);case 16:throw t.prev=16,t.t1=t.catch(10),console.log(t.t1),new Error("文件不存在：".concat(e));case 20:case"end":return t.stop()}}),t,null,[[0,6],[10,16]])})),function(){var e=this,n=arguments;return new Promise((function(o,i){var c=t.apply(e,n);function s(t){r(c,o,i,s,a,"next",t)}function a(t){r(c,o,i,s,a,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}(),u={},f=function(t){u[t]||(i.ensureDirSync(t),u[t]=!0)};t.exports={write:function(t,e,n){f(t.split("/").slice(0,-1).join("/")),o.writeFile(t,e).then((function(){return n()})).catch((function(t){return console.log(t)}))},append:function(t,e,n){f(t.split("/").slice(0,-1).join("/")),o.appendFile(t,e).then((function(){return n()})).catch((function(t){return console.log(t)}))},writeJson:function(t,e,n){f(t.split("/").slice(0,-1).join("/")),i.writeJSON(t,e,{spaces:2}).then((function(){return n()})).catch((function(t){return console.log(t)}))},getAbsolutePath:a}},function(t,e){t.exports=require("fs")},function(t,e){t.exports={stringify:function(t,{EOL:e="\n",finalEOL:n=!0,replacer:r=null,spaces:o}={}){const i=n?e:"";return JSON.stringify(t,r,o).replace(/\n/g,e)+i},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(1),i=n(0),c=n(3),s=n(6).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const a=i.dirname(t);s(a,(i,s)=>i?r(i):s?o.writeFile(t,e,n,r):void c.mkdirs(a,i=>{if(i)return r(i);o.writeFile(t,e,n,r)}))})),outputFileSync:function(t,...e){const n=i.dirname(t);if(o.existsSync(n))return o.writeFileSync(t,...e);c.mkdirsSync(n),o.writeFileSync(t,...e)}}},function(t,e,n){"use strict";t.exports={...n(7),...n(18),...n(20),...n(39),...n(41),...n(47),...n(3),...n(52),...n(54),...n(14),...n(6),...n(9)}},function(t,e){t.exports=require("util")},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";t.exports={copySync:n(35)}},function(t,e,n){"use strict";const r=n(1);t.exports={utimesMillis:function(t,e,n,o){r.open(t,"r+",(t,i)=>{if(t)return o(t);r.futimes(i,e,n,t=>{r.close(i,e=>{o&&o(t||e)})})})},utimesMillisSync:function(t,e,n){const o=r.openSync(t,"r+");return r.futimesSync(o,e,n),r.closeSync(o)}}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={copy:r(n(38))}},function(t,e,n){n(0);var r=n(22),o=n(23),i=n(24),c=n(26),s=n(27),a=n(29),u=(n(11),n(56)),f=n(57),l={entry:"src/main.js",exclude:[],include:["src/routes/router.js","src/routes/chat.js"],destPath:"src/assets/css/common.less",insertInfos:{insertFile:"src/main.js",insertContent:'import "./assets/css/common.less"'},logOutPut:"logs"},p=new r(l);t.exports=function(){p.run((function(t,e){var n=null,r=-1;e.forEach((function(t,e){var i=t.data;"string"==typeof i?t.cssJson=o(i):Array.isArray(i)&&(t.cssJson=i.map((function(t){return o(t)}))),delete t.data,t.path.endsWith(l.destPath)&&(n=t,r=e)})),console.log(e.length,1),r>-1&&(console.log("已存在抽离过的公共样式文件"),e.splice(r,1));var p=i(e,n),y=c(p.common),d=s.genCommon(y);u(d,l,"common");var h=a(p.flatened),m=h.lists,v=h.logs,E=Object.keys(v);f(v,E,l.logOutPut);var S=s.genEach(m);u(S,null,"each",E)}))}},function(t,e,n){function r(t,e,n,r,o,i,c){try{var s=t[i](c),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var c=t.apply(e,n);function s(t){r(c,o,i,s,a,"next",t)}function a(t){r(c,o,i,s,a,"throw",t)}s(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(0),a=n(10),u=n(4),f=u.ROUGH_PATH_REG,l=u.ACCURATE_PATH_REG,p=u.USEFUL_EXTENSION_REG,y=u.USELESS_EXTENSION_REG,d=u.VUE_FILE_REG,h=u.CSS_FILE_REG,m=u.LESS_FILE_REG,v=u.STYLE_WITH_TAG_REG,E=u.ANNOTATION_REG,S=u.STYLE_START_REG,b=u.IMPORT_CSS_REG,w=u.CSS_CONTENT_REG,g=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.count=0,this.fileLists=[],this.styleLists=[],this.done=null,this.entry=n.entry,this.exclude=n.exclude&&n.exclude.map((function(t){return e.wraperPath(t)}))||[],this.destPath=n.destPath}var e,n,r,u,g,O,_;return e=t,(n=[{key:"wraperPath",value:function(t){return s.join(process.cwd(),t)}},{key:"run",value:function(t){var e=this;this.done=t||function(){},"string"==typeof this.entry?(this.count++,this.getDependencyFiles(this.wraperPath(this.entry))):Array.isArray(this.entry)&&this.entry.map((function(t){return e.wraperPath(t)})).forEach((function(t){e.count++,e.getDependencyFiles(t)}))}},{key:"getDependencyFiles",value:(_=o(regeneratorRuntime.mark((function t(e){var n,r,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.fileLists.includes(e)&&!e.includes("node_modules/")){t.next=4;break}return this.count--,0==this.count&&this.done(this.filterUselessFile(),this.styleLists),t.abrupt("return");case 4:return this.fileLists.push(e),t.next=7,a.readFile(e,"utf8");case 7:if(n=t.sent,r=null==n?void 0:n.match(f),this.getStyleData(e,n),!r){t.next=15;break}return t.next=13,this.handlePaths(e,r);case 13:null==(o=t.sent)||o.forEach((function(t){i.count++,i.getDependencyFiles(t)}));case 15:this.count--,0==this.count&&this.done(this.filterUselessFile(),this.styleLists);case 17:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})},{key:"handlePaths",value:(O=o(regeneratorRuntime.mark((function t(e){var n,r,i=this,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],r=n.join(",").match(l),t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark((function t(n,c){var s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=[],a=0,r.forEach(function(){var t=o(regeneratorRuntime.mark((function t(o){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getFilePath(e,o);case 2:(c=t.sent)&&s.push(c),++a===r.length&&n(s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 3:case"end":return t.stop()}}),t)}))),function(t){return O.apply(this,arguments)})},{key:"getFilePath",value:(g=o(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="",r=n.startsWith("@")?n.replace("@",process.cwd()+"/src"):s.join(e,"..",n),!p.test(r)){t.next=6;break}return t.abrupt("return",r);case 6:if(!y.test(r)){t.next=10;break}return t.abrupt("return",r);case 10:if(o=r.lastIndexOf("/"),!r.slice(o).includes(".")){t.next=14;break}return t.abrupt("return");case 14:return t.prev=14,t.next=17,a.stat(r);case 17:if(!t.sent.isDirectory()){t.next=24;break}return t.next=21,this.addFileExtensionOrFileName(r);case 21:return t.abrupt("return",t.sent);case 24:return t.next=26,this.addFileExtensionOrFileName(r,!0);case 26:return t.abrupt("return",t.sent);case 27:t.next=34;break;case 29:return t.prev=29,t.t0=t.catch(14),t.next=33,this.addFileExtensionOrFileName(r,!0);case 33:return t.abrupt("return",t.sent);case 34:case"end":return t.stop()}}),t,this,[[14,29]])}))),function(t,e){return g.apply(this,arguments)})},{key:"addFileExtensionOrFileName",value:(u=o(regeneratorRuntime.mark((function t(e,n){var r,o,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n?e+".vue":s.join(e,"index.vue"),t.next=4,a.access(r);case 4:return t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),t.prev=9,o=n?e+".js":s.join(e,"index.js"),t.next=13,a.access(o);case 13:return t.abrupt("return",o);case 16:return t.prev=16,t.t1=t.catch(9),t.prev=18,i=n?e+".css":s.join(e,"index.css"),t.next=22,a.access(i);case 22:return t.abrupt("return",i);case 25:return t.prev=25,t.t2=t.catch(18),t.prev=27,c=n?e+".less":s.join(e,"index.less"),t.next=31,a.access(c);case 31:return t.abrupt("return",c);case 34:return t.prev=34,t.t3=t.catch(27),t.abrupt("return","");case 37:case"end":return t.stop()}}),t,null,[[0,7],[9,16],[18,25],[27,34]])}))),function(t,e){return u.apply(this,arguments)})},{key:"filterUselessFile",value:function(){return this.fileLists.filter((function(t){return!y.test(t)}))}},{key:"getStyleData",value:function(t,e){if(!y.test(t))if(h.test(t)){var n=e.match(b);this.styleLists.push({type:"css",path:t,importInfo:n&&n.join("\n"),originData:e,data:e.replace(E,"")})}else if(m.test(t)){var r=e.match(b);this.styleLists.push({type:"less",path:t,importInfo:r&&r.join("\n"),originData:e,data:e.replace(E,"")})}else if(d.test(t)){var o=e.match(v),i=e.replace(v,""),c={},s={},a=[];if(o&&o.length)for(var u=0;u<o.length;u++){var f=o[u],l=f.match(S);l&&l[1]&&(c[u]=l[1]);var p=f.match(b);p&&p.length&&(s[u]=p.join("\n"));var g=f.match(w);g&&g[2]?a.push(g[2]):a.push("")}o&&this.styleLists.push({type:"vue",path:t,tagInfo:c,importInfo:s,keepContent:null==i?void 0:i.trim(),originData:e,data:a.map((function(t){return t.replace(E,"")}))})}}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=g},function(t,e,n){var r=n(5),o=n(4),i=function(t,e){t.forEach((function(t){if(t&&t.indexOf(":")>-1){var n,r=t.split(":");if(null!==(n=e[r[0].trim()])&&void 0!==n&&n.includes("!important"))return;e[r[0].trim()]=r[1].trim()}}))};t.exports=function(t){for(var e={},n=[],c=-100,s=-100,a=-100,u=t.replace(o.LINE_BREAK_REG,"").trim();u.length;){c=u.indexOf("{"),a=u.indexOf("}"),c>-1&&(s=u.indexOf("{",c+1));var f=s>-1&&s<a,l=-1==c&&a>-1||a<c;if((-1==s||s>a)&&c>-1&&c<a){var p=u.slice(0,c).trim(),y=u.slice(c+1,a).trim(),d=e;n.length&&(d=r.getInnermostLevel(n,d)),!d[p]&&(d[p]={}),i(y.split(";"),d[p]),u=u.slice(a+1)}else if(f){var h=u.slice(0,c).trim();n.push(h);var m=u.slice(c+1,s),v=m.lastIndexOf(";");if(v>-1){var E=m.slice(0,v).trim(),S=e;S=r.getInnermostLevel(n,S),i(E.split(";"),S),u=u.slice(c+1+v+1)}else u=u.slice(c+1)}else if(l){var b=u.slice(0,a);if(b.trim()&&b.indexOf(":")>-1){var w=e;w=r.getInnermostLevel(n,w),i(b.split(";"),w)}n.pop(),u=u.slice(a+1)}}return e}},function(t,e,n){function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=n(5),f=n(25),l=n(4),p=l.SUFFIX_DEEP,y=l.SUFFIX_COMMON,d=l.SAME_SELECTOR,h=l.HAS_PATCHED,m=l.DO_NOT_CHECK_REG,v=l.INHERIT_CSS_PROPS,E=l.START_WITH_LETTER,S=l.SUFFIX_SAME_FILE_COMMON,b=l.ROOT_SELECTOR,w=l.SAME_LEVEL_REG,g=l.CHILD_LEVEL_REG,O=l.LEVEL_FLAG,_=l.LEVEL_FLAG_REG,x=[],k=function(t,e,n,r){var o=u.deepClone(t);return F(o,e,n,r,null),o},F=function t(e,n,r,o,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u={},f={},l=[];for(var y in e)if(v.includes(y)&&"string"==typeof e[y]){if(f[y]=e[y],f[y+"$$_FROM_$$"]=x.join(O),f[y]===s[y])if(r){var d=s[y+"$$_FROM_$$"],h=x.join(O),E=h.replace(d,"");(E=E.split(O).filter((function(t){return t}))).length?function(){var t=d.split(O),n="";E.forEach((function(e){var r;t.push(e);var o=null===(r=R(t.join(" ")))||void 0===r?void 0:r.trim();o&&(n&&(n+="|"),n+="".concat(o,",|").concat(o,"$"))}));for(var i=new RegExp(n),c=!0,s=0;s<o.length;s++){var a=o[s];if(i.test(a)&&r[a][y]&&r[a][y]!==f[y]){c=!1;break}}c&&(e[y+p]=!0)}():e[y+p]=!0}else e[y+p]=!0}else"object"!==a(e[y])||m.test(y)?m.test(y)&&l.push(e[y]):(u[y]=e[y],l.push(e[y]));var S=Object.keys(u);S.length&&(i&&x.push(i),S.forEach((function(e){t(u[e],n,r,o,e,c(c({},s),f))})),x.pop())},L={},P=function(t,e,n){var r=t.flattenCss,o=null==n?void 0:n.flattenCss,i=Object.keys(o||{});if(u.isObject(r))for(var c in r)C(c,r[c])&&(r[c][h]=!0,j(c,r,t,e,-1,o,i)),r[c][d]&&N(c,r[c],t,-1);else u.isArray(r)&&r.forEach((function(n,r){for(var c in n)C(c,n[c])&&(n[c][h]=!0,j(c,n,t,e,r,o,i)),n[c][d]&&N(c,n[c],t,r)}))},j=function(t,e,n,o,i,c,s){var a=[],f=[];o.forEach((function(e){var n=e.flattenCss;u.isObject(n)?n[t]&&(n[t][h]=!0,a.push({css:n[t],from:e.path,index:-1}),f.push(e.path)):u.isArray(n)&&n.forEach((function(n,r){n[t]&&(n[t][h]=!0,a.push({css:n[t],from:e.path,index:r}),f.push(e.path))}))})),a.length&&(a.unshift({css:e[t],from:n.path,index:i}),f.push(n.path),f=r(new Set(f)),T(t,a,c,s,f.length))},T=function(t,e,n,r,o){var i={};e.forEach((function(t){var e=t.css;for(var n in e)if(!A(n,e)){var r="".concat(n,"$$__$$").concat(e[n]);!i[r]&&(i[r]=[]),i[r].push({dir:e.dir||b,from:t.from})}e[d]&&e[d].forEach((function(e){for(var n in e)if(!A(n,e)){var r="".concat(n,"$$__$$").concat(e[n]);!i[r]&&(i[r]=[]),i[r].push({dir:e.dir||b,from:t.from})}}))}));var c=function(c){var s=c.split("$$__$$"),a=i[c],u=[],f=[];a.forEach((function(t){!u.includes(t.dir)&&u.push(t.dir),!f.includes(t.from)&&f.push(t.from)}));var l=u.indexOf(b),p=f.length;if(l>-1&&p<o)return"continue";if(u.length&&p>1){if(-1===l&&u.length===p);else if(p<o){var h=[];if(u.forEach((function(t,n){for(var r=0;r<e.length;r++){var o=e[r].css,i=!1,c=!0;if(o.dir===t)i=!0,o[s[0]]===s[1]&&(c=!1);else if(o[d])for(var a=0;a<o[d].length;a++){var u=o[d][a];if(u.dir===t&&(i=!0,u[s[0]]===s[1])){c=!1;break}}if(i&&c){h.push(n);break}}})),h.reverse(),h.forEach((function(t){u.splice(t,1)})),!u.length)return"continue"}if(n){var m=R(t);if(u.includes(b)){if(n[m])return"continue";for(var v=0;v<r.length&&!r[v].includes(m);v++);if(v!==r.length)return"continue"}else{for(var E=R(t,u[0]),S=0;S<r.length&&!r[S].includes(E);S++);if(S!==r.length)return"continue"}}!L[t]&&(L[t]=[]),L[t].push({prop:s[0],value:s[1],dirs:u}),e.forEach((function(t){t.css[s[0]]===s[1]&&(o===f.length||u.includes(t.css.dir))&&(t.css[s[0]+y]=!0),t.css[d]&&t.css[d].forEach((function(t){t[s[0]]===s[1]&&u.includes(t.dir)&&(t[s[0]+y]=!0)}))}))}};for(var s in i)c(s)},R=function(t,e){return e?(e.replace(_," ")+" "+t).replace(w,"$1").replace(/,.*/g,"").replace(g," > "):t.replace(w,"$1").replace(/,.*/g,"").replace(g," > ")},C=function(t,e){return!E.test(t)&&!e[h]},N=function(t,e,n,r){var o=e[d],i=(null==o?void 0:o.length)||0,c=[e.dir||b];if(i>1){for(var s in e)if(!A(s,e)){for(var a=0;a<i&&o[a][s]===e[s];a++){var u=o[a].dir||b;!c.includes(u)&&c.push(u)}a===i&&I(s,t,e,o,n,r,c)}}else if(1===i){var f=o[0];for(var l in e)if(!A(l,e)&&f[l]===e[l]){var p=f.dir||b;!c.includes(p)&&c.push(p),I(l,t,e,f,n,r,c)}}},I=function(t,e,n,r,o,i,c){var a,f=D(e,c);o.common?o.common[i]?o.common[i][f]||(o.common[i][f]={}):o.common[i]=s({},f,{}):o.common=s({},i,s({},f,{})),null!==(a=o.common[i][f][t])&&void 0!==a&&a.includes("!important")||(o.common[i][f][t]=n[t]),n[t+S]=!0,u.isObject(r)?r[t+S]=!0:u.isArray(r)&&r.forEach((function(e){return e[t+S]=!0}))},D=function(t,e){if(e.length>0){var n=e.indexOf(b);if(n>-1&&e.splice(n,1),e.length){var r="";return e.forEach((function(e){r+="".concat(e.replace(_," ")," ").concat(t,",")})),r.slice(0,-1)}return t}return t},A=function(t,e,n){return"dir"===t||t===h||t===d||t.includes(p)||t.includes(y)||t.includes(S)||e[t+p]||e[t+y]||e[t+S]||n&&(n[t+p]||n[t+y]||n[t+S])||"string"!=typeof e[t]};t.exports=function(t,e){var n=function(t,e){var n=null;return e&&(n=Object.keys(e)),t.forEach((function(t){var r=t.cssJson;x=[],u.isObject(r)?t.filteredSameInheritCss=k(r,t.path,e,n):u.isArray(r)&&(x=[],t.filteredSameInheritCss=[],r.forEach((function(r){return t.filteredSameInheritCss.push(k(r,t.path,e,n))})))})),t}(function(t){var e=[];return t.forEach((function(t){if(u.isObject(t.cssJson))!u.isEmptyObject(t.cssJson)&&e.push(t);else if(u.isArray(t.cssJson)){t.cssJson.some((function(t){return!u.isEmptyObject(t)}))&&e.push(t)}})),e}(t),null==e?void 0:e.cssJson),r=f(n),o=null;return e&&(e.filteredSameInheritCss=e.cssJson,o=f([e])),console.log("开始比对：",Date.now()),function(t,e){var n=t.length;console.log("总共数量",n);for(var r=0;r<n;r++)P(t[r],t.slice(r+1),e)}(r,o&&o[0]),console.log("比对完成：",Date.now()),{flatened:r,common:L}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(5),i=n(4),c=i.KEEP_CSS_RULE_REG,s=i.SAME_SELECTOR,a=i.LEVEL_FLAG,u=[],f={},l=function(t){if(o.isEmptyObject(t))return{};for(var e in f={},p(t),f)u=[],y(f[e],e);return f},p=function(t){for(var e in t)"object"===r(t[e])&&(f[e]=t[e])},y=function t(e,n){if(!n||(u.push(n),!c.test(n)))for(var i in e)if(!o.isEmptyObject(e[i])&&i!==s){var l=e[i];if("object"===r(l)){if(delete e[i],l.dir=u.join(a),f[i]?(!f[i][s]&&(f[i][s]=[]),f[i][s].push(l)):f[i]=l,c.test(i))continue;u.push(i),t(l),u.pop()}}};t.exports=function(t){return t.forEach((function(t){var e=o.deepClone(t.filteredSameInheritCss);o.isObject(e)?t.flattenCss=l(e):o.isArray(e)&&(t.flattenCss=[],e.forEach((function(e){return t.flattenCss.push(l(e))})))})),t}},function(t,e,n){function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=n(5),c=n(4),s=c.LEVEL_FLAG_REG,a=c.SAME_LEVEL_REG,u=c.CHILD_LEVEL_REG,f=c.ROOT_SELECTOR;t.exports=function(t){if(t&&i.isObject(t)){var e={},n=function(n){var o=t[n],i="";n.includes(",")&&(i=n.split(",")),o.forEach((function(t){var o=t.dirs;if(o.length&&!o.includes(f)){var c="";o.includes(f)?c+="".concat(n,", "):o.forEach((function(t){t.includes(",")?t.split(",").forEach((function(t){var e;t=null===(e=t)||void 0===e?void 0:e.trim(),i?i.forEach((function(e){var n;e=null===(n=e)||void 0===n?void 0:n.trim(),c+="".concat(t.replace(s," ")," ").concat(e,",")})):c+="".concat(t.replace(s," ")," ").concat(n,",")})):i?i.forEach((function(e){var n;e=null===(n=e)||void 0===n?void 0:n.trim(),c+="".concat(t.replace(s," ")," ").concat(e,",")})):c+="".concat(t.replace(s," ")," ").concat(n,",")}));var l=c.slice(0,-1).split(",");c=(c=r(new Set(l)).join(",")).replace(a,"$1").replace(u," > "),!e[c]&&(e[c]={}),e[c][t.prop]=t.value}else if(i)i.forEach((function(n){var r;n=null===(r=n)||void 0===r?void 0:r.trim().replace(a,"$1").replace(u," > "),e[n]||(e[n]={}),e[n][t.prop]=t.value}));else{var p=n.trim().replace(a,"$1").replace(u," > ");e[p]||(e[p]={}),e[p][t.prop]=t.value}}))};for(var o in t)n(o);return e}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(5),i=n(28),c=n(4),s=c.DIVIDE_SELECTORS,a=c.SAME_LEVEL_REG,u=c.CHILD_LEVEL_REG,f=1,l={style:"",common:""},p=function t(e,n){i(e).forEach((function(o){var i=e[o];if("string"==typeof i)l[n]+="".concat(f>0?"\t".repeat(f):"").concat(o,": ").concat(i,";\n");else if("object"===r(i)){var c=f>0?"\t".repeat(f):"",p=o;"common"===n&&(p=p.replace(a,"$1").replace(u," > ")),p=p.replace(s,",\n"+c),l[n]+="".concat(c).concat(p," {\n"),f++,t(i,n),f--,l[n]+="".concat(f>0?"\t".repeat(f):"","}\n")}}))},y=function(t,e,n,r){return r?"vue"===t?"".concat(n,"\n").concat("\t").concat(r,"\n").concat(e.common,"\n").concat(e.style,"</style>"):"".concat(r,"\n").concat(e.common,"\n").concat(e.style):!e.style.trim()&&e.common.trim()?"":"vue"===t?"".concat(n,"\n").concat(e.common,"\n").concat(e.style,"</style>"):"".concat(e.common,"\n").concat(e.style)};t.exports={genCommon:function(t){if(o.isEmptyObject(t))return"";var e="/**\n* 自动生成 \n*/\n\n",n=function(n){var r=n.replace(s,",\n");e+="".concat(r," {\n");var o=t[n];i(o).forEach((function(t){e+="\t".concat(t,": ").concat(o[t],";\n")})),e+="}\n"};for(var r in t)n(r);return e},genEach:function(t){return t.forEach((function(t){var e=t.type,n=(t.path,t.tagInfo),r=t.importInfo,i=t.common,c=t.unflattenCss;l={style:"",common:""},o.isObject(c)?(f=0,p(c,"style"),i&&i[-1]&&(f=0,p(i[-1],"common")),t.cssString=y(e,l,n,r)):o.isArray(c)&&c.forEach((function(o,c){l={style:"",common:""},f=1,p(o,"style"),i&&i[c]&&(f=1,p(i[c],"common")),t.cssString=(t.cssString||"")+"\n"+y(e,l,n[c],r[c])}))})),t}}},function(t,e,n){var r=n(5),o=n(4).SORTED_PROPERTY,i=o.length;t.exports=function(t){if(!r.isObject(t))return t;for(var e=[],n=Object.keys(t),c=0;c<i;c++){var s=o[c],a=n.indexOf(s);if(a>-1&&(e.push(s),n.splice(a,1)),!n.length)break}return n.length&&(e=e.concat(n)),e}},function(t,e,n){var r=n(5),o=n(4),i=o.SUFFIX_DEEP,c=o.SUFFIX_COMMON,s=o.SAME_SELECTOR,a=o.LEVEL_FLAG,u=o.SUFFIX_SAME_FILE_COMMON,f=o.HAS_PATCHED,l={},p=function(t,e,n,r){return!("dir"===t||t===f||t===s||t.includes(c)||t.includes(i)||t.includes(u)||e[t+c]||e[t+i]||e[t+u])||(function(t,e,n,r){(e[t+c]||e[t+i]||e[t+u])&&(!l[r]&&(l[r]=[]),l[r].push({selector:n,dir:e.dir,prop:t,value:e[t],type:e[t+c]&&c||e[t+i]&&i||e[t+u]&&u}))}(t,e,n,r),!1)},y=function(t,e,n,o){var i=t.split(a),c=n;i.push(e),c=r.getInnermostLevel(i,c),Object.assign(c,o)},d=function(t,e,n){var o=function(o){var i=t[o],c={},a={};for(var u in i)if(p(u,i,o,n))c[u]=i[u];else if(u===s){i[u].forEach((function(t){var e=t.dir;for(var r in!a[e]&&(a[e]={}),t)p(r,t,o,n)&&(a[e][r]=t[r])}))}if(r.isEmptyObject(c)||(i.dir?y(i.dir,o,e,c):(!e[o]&&(e[o]={}),Object.assign(e[o],c))),!r.isEmptyObject(a))for(var f in a)r.isEmptyObject(a[f])||y(f,o,e,a[f])};for(var i in t)o(i)};t.exports=function(t){return t.forEach((function(t){var e=r.deepClone(t.flattenCss),n=null;r.isObject(e)?d(e,n={},t.path):r.isArray(e)&&(n=[],e.forEach((function(e,r){n[r]={},d(e,n[r],t.path)}))),t.unflattenCss=n})),{lists:t,logs:l}}},function(t,e,n){var r=n(31),o=process.cwd,i=null,c=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var s=process.chdir;process.chdir=function(t){i=null,s.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,s)}t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,o){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?o&&o(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lchmodSync=function(e,n){var o,i=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),c=!0;try{o=t.fchmodSync(i,n),c=!1}finally{if(c)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return o}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,o,i){t.open(e,r.O_SYMLINK,(function(e,r){e?i&&i(e):t.futimes(r,n,o,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lutimesSync=function(e,n,o){var i,c=t.openSync(e,r.O_SYMLINK),s=!0;try{i=t.futimesSync(c,n,o),s=!1}finally{if(s)try{t.closeSync(c)}catch(t){}else t.closeSync(c)}return i}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=i(t.chown),t.fchown=i(t.fchown),t.lchown=i(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=s(t.chownSync),t.fchownSync=s(t.fchownSync),t.lchownSync=s(t.lchownSync),t.chmodSync=o(t.chmodSync),t.fchmodSync=o(t.fchmodSync),t.lchmodSync=o(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===c&&(t.rename=(e=t.rename,function(n,r,o){var i=Date.now(),c=0;e(n,r,(function s(a){if(a&&("EACCES"===a.code||"EPERM"===a.code)&&Date.now()-i<6e4)return setTimeout((function(){t.stat(r,(function(t,i){t&&"ENOENT"===t.code?e(n,r,s):o(a)}))}),c),void(c<100&&(c+=10));o&&o(a)}))}));var e;function n(e){return e?function(n,r,o){return e.call(t,n,r,(function(t){f(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function o(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!f(t))throw t}}:e}function i(e){return e?function(n,r,o,i){return e.call(t,n,r,o,(function(t){f(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function s(e){return e?function(n,r,o){try{return e.call(t,n,r,o)}catch(t){if(!f(t))throw t}}:e}function a(e){return e?function(n,r,o){function i(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof r&&(o=r,r=null),r?e.call(t,n,r,i):e.call(t,n,i)}:e}function u(e){return e?function(n,r){var o=r?e.call(t,n,r):e.call(t,n);return o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296),o}:e}function f(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(e){function n(n,r,o,i,c,s){var a;if(s&&"function"==typeof s){var u=0;a=function(f,l,p){if(f&&"EAGAIN"===f.code&&u<10)return u++,e.call(t,n,r,o,i,c,a);s.apply(this,arguments)}}return e.call(t,n,r,o,i,c,a)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,e),n}(t.read),t.readSync=(l=t.readSync,function(e,n,r,o,i){for(var c=0;;)try{return l.call(t,e,n,r,o,i)}catch(t){if("EAGAIN"===t.code&&c<10){c++;continue}throw t}});var l}},function(t,e){t.exports=require("constants")},function(t,e,n){var r=n(33).Stream;t.exports=function(t){return{ReadStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var c=Object.keys(o),s=0,a=c.length;s<a;s++){var u=c[s];this[u]=o[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){i._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()}))},WriteStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),c=0,s=i.length;c<s;c++){var a=i[c];this[a]=o[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:r(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e};var r=Object.getPrototypeOf||function(t){return t.__proto__}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(3).mkdirsSync,c=n(19).utimesMillisSync,s=n(8);function a(t,e,n,i){const c=(i.dereference?r.statSync:r.lstatSync)(e);if(c.isDirectory())return function(t,e,n,o,i){return e?l(n,o,i):function(t,e,n,o){return r.mkdirSync(n),l(e,n,o),f(n,t)}(t.mode,n,o,i)}(c,t,e,n,i);if(c.isFile()||c.isCharacterDevice()||c.isBlockDevice())return function(t,e,n,o,i){return e?function(t,e,n,o){if(o.overwrite)return r.unlinkSync(n),u(t,e,n,o);if(o.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,o,i):u(t,n,o,i)}(c,t,e,n,i);if(c.isSymbolicLink())return function(t,e,n,i){let c=r.readlinkSync(e);i.dereference&&(c=o.resolve(process.cwd(),c));if(t){let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(c,n);throw t}if(i.dereference&&(t=o.resolve(process.cwd(),t)),s.isSrcSubdir(c,t))throw new Error(`Cannot copy '${c}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&s.isSrcSubdir(t,c))throw new Error(`Cannot overwrite '${t}' with '${c}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(c,n)}return r.symlinkSync(c,n)}(t,e,n,i);if(c.isSocket())throw new Error("Cannot copy a socket file: "+e);if(c.isFIFO())throw new Error("Cannot copy a FIFO pipe: "+e);throw new Error("Unknown file: "+e)}function u(t,e,n,o){return r.copyFileSync(e,n),o.preserveTimestamps&&function(t,e,n){(function(t){return 0==(128&t)})(t)&&function(t,e){f(t,128|e)}(n,t);(function(t,e){const n=r.statSync(t);c(e,n.atime,n.mtime)})(e,n)}(t.mode,e,n),f(n,t.mode)}function f(t,e){return r.chmodSync(t,e)}function l(t,e,n){r.readdirSync(t).forEach(r=>function(t,e,n,r){const i=o.join(e,t),c=o.join(n,t),{destStat:u}=s.checkPathsSync(i,c,"copy",r);return function(t,e,n,r){if(!r.filter||r.filter(e,n))return a(t,e,n,r)}(u,i,c,r)}(r,t,e,n))}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:c,destStat:u}=s.checkPathsSync(t,e,"copy",n);return s.checkParentPathsSync(t,c,e,"copy"),function(t,e,n,c){if(c.filter&&!c.filter(e,n))return;const s=o.dirname(n);r.existsSync(s)||i(s);return a(t,e,n,c)}(u,t,e,n)}},function(t,e,n){"use strict";const r=n(7),{checkPath:o}=n(37),i=t=>"number"==typeof t?t:{mode:511,...t}.mode;t.exports.makeDir=async(t,e)=>(o(t),r.mkdir(t,{mode:i(e),recursive:!0})),t.exports.makeDirSync=(t,e)=>(o(t),r.mkdirSync(t,{mode:i(e),recursive:!0}))},function(t,e,n){"use strict";const r=n(0);t.exports.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(r.parse(t).root,""))){const e=new Error("Path contains invalid characters: "+t);throw e.code="EINVAL",e}}}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(3).mkdirs,c=n(6).pathExists,s=n(19).utimesMillis,a=n(8);function u(t,e,n,r,s){const a=o.dirname(n);c(a,(o,c)=>o?s(o):c?l(t,e,n,r,s):void i(a,o=>o?s(o):l(t,e,n,r,s)))}function f(t,e,n,r,o,i){Promise.resolve(o.filter(n,r)).then(c=>c?t(e,n,r,o,i):i(),t=>i(t))}function l(t,e,n,o,i){(o.dereference?r.stat:r.lstat)(e,(c,s)=>c?i(c):s.isDirectory()?function(t,e,n,o,i,c){return e?h(n,o,i,c):function(t,e,n,o,i){r.mkdir(n,r=>{if(r)return i(r);h(e,n,o,e=>e?i(e):d(n,t,i))})}(t.mode,n,o,i,c)}(s,t,e,n,o,i):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?function(t,e,n,o,i,c){return e?function(t,e,n,o,i){if(!o.overwrite)return o.errorOnExist?i(new Error(`'${n}' already exists`)):i();r.unlink(n,r=>r?i(r):p(t,e,n,o,i))}(t,n,o,i,c):p(t,n,o,i,c)}(s,t,e,n,o,i):s.isSymbolicLink()?v(t,e,n,o,i):s.isSocket()?i(new Error("Cannot copy a socket file: "+e)):s.isFIFO()?i(new Error("Cannot copy a FIFO pipe: "+e)):i(new Error("Unknown file: "+e)))}function p(t,e,n,o,i){r.copyFile(e,n,r=>r?i(r):o.preserveTimestamps?function(t,e,n,r){if(function(t){return 0==(128&t)}(t))return function(t,e,n){return d(t,128|e,n)}(n,t,o=>o?r(o):y(t,e,n,r));return y(t,e,n,r)}(t.mode,e,n,i):d(n,t.mode,i))}function y(t,e,n,o){!function(t,e,n){r.stat(t,(t,r)=>t?n(t):s(e,r.atime,r.mtime,n))}(e,n,e=>e?o(e):d(n,t,o))}function d(t,e,n){return r.chmod(t,e,n)}function h(t,e,n,o){r.readdir(t,(r,i)=>r?o(r):m(i,t,e,n,o))}function m(t,e,n,r,i){const c=t.pop();return c?function(t,e,n,r,i,c){const s=o.join(n,e),u=o.join(r,e);a.checkPaths(s,u,"copy",i,(e,o)=>{if(e)return c(e);const{destStat:a}=o;!function(t,e,n,r,o){r.filter?f(l,t,e,n,r,o):l(t,e,n,r,o)}(a,s,u,i,e=>e?c(e):m(t,n,r,i,c))})}(t,c,e,n,r,i):i()}function v(t,e,n,i,c){r.readlink(e,(e,s)=>e?c(e):(i.dereference&&(s=o.resolve(process.cwd(),s)),t?void r.readlink(n,(e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(s,n,c):c(e):(i.dereference&&(u=o.resolve(process.cwd(),u)),a.isSrcSubdir(s,u)?c(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&a.isSrcSubdir(u,s)?c(new Error(`Cannot overwrite '${u}' with '${s}'.`)):function(t,e,n){r.unlink(e,o=>o?n(o):r.symlink(t,e,n))}(s,n,c))):r.symlink(s,n,c)))}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),a.checkPaths(t,e,"copy",n,(o,i)=>{if(o)return r(o);const{srcStat:c,destStat:s}=i;a.checkParentPaths(t,c,e,"copy",o=>o?r(o):n.filter?f(u,s,t,e,n,r):u(s,t,e,n,r))})}},function(t,e,n){"use strict";const r=n(2).fromPromise,o=n(7),i=n(0),c=n(3),s=n(9),a=r((async function(t){let e;try{e=await o.readdir(t)}catch{return c.mkdirs(t)}return Promise.all(e.map(e=>s.remove(i.join(t,e))))}));function u(t){let e;try{e=o.readdirSync(t)}catch{return c.mkdirsSync(t)}e.forEach(e=>{e=i.join(t,e),s.removeSync(e)})}t.exports={emptyDirSync:u,emptydirSync:u,emptyDir:a,emptydir:a}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(17),c="win32"===process.platform;function s(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]}),t.maxBusyTries=t.maxBusyTries||3}function a(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i.strictEqual(typeof n,"function","rimraf: callback function required"),i(e,"rimraf: invalid options argument provided"),i.strictEqual(typeof e,"object","rimraf: options should be object"),s(e),u(t,e,(function o(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&r<e.maxBusyTries){r++;return setTimeout(()=>u(t,e,o),100*r)}"ENOENT"===i.code&&(i=null)}n(i)}))}function u(t,e,n){i(t),i(e),i("function"==typeof n),e.lstat(t,(r,o)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&c?f(t,e,r,n):o&&o.isDirectory()?p(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return c?f(t,e,r,n):p(t,e,r,n);if("EISDIR"===r.code)return p(t,e,r,n)}return n(r)}))}function f(t,e,n,r){i(t),i(e),i("function"==typeof r),e.chmod(t,438,o=>{o?r("ENOENT"===o.code?null:n):e.stat(t,(o,i)=>{o?r("ENOENT"===o.code?null:n):i.isDirectory()?p(t,e,n,r):e.unlink(t,r)})})}function l(t,e,n){let r;i(t),i(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?d(t,e,n):e.unlinkSync(t)}function p(t,e,n,r){i(t),i(e),i("function"==typeof r),e.rmdir(t,c=>{!c||"ENOTEMPTY"!==c.code&&"EEXIST"!==c.code&&"EPERM"!==c.code?c&&"ENOTDIR"===c.code?r(n):r(c):function(t,e,n){i(t),i(e),i("function"==typeof n),e.readdir(t,(r,i)=>{if(r)return n(r);let c,s=i.length;if(0===s)return e.rmdir(t,n);i.forEach(r=>{a(o.join(t,r),e,r=>{if(!c)return r?n(c=r):void(0==--s&&e.rmdir(t,n))})})})}(t,e,r)})}function y(t,e){let n;s(e=e||{}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i(e,"rimraf: missing options"),i.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&c&&l(t,e,n)}try{n&&n.isDirectory()?d(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return c?l(t,e,n):d(t,e,n);if("EISDIR"!==n.code)throw n;d(t,e,n)}}function d(t,e,n){i(t),i(e);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(i(t),i(e),e.readdirSync(t).forEach(n=>y(o.join(t,n),e)),!c){return e.rmdirSync(t,e)}{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch{}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=a,a.sync=y},function(t,e,n){"use strict";const r=n(42),o=n(43),i=n(44);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(0),i=n(1),c=n(3);t.exports={createFile:r((function(t,e){function n(){i.writeFile(t,"",t=>{if(t)return e(t);e()})}i.stat(t,(r,s)=>{if(!r&&s.isFile())return e();const a=o.dirname(t);i.stat(a,(t,r)=>{if(t)return"ENOENT"===t.code?c.mkdirs(a,t=>{if(t)return e(t);n()}):e(t);r.isDirectory()?n():i.readdir(a,t=>{if(t)return e(t)})})})})),createFileSync:function(t){let e;try{e=i.statSync(t)}catch{}if(e&&e.isFile())return;const n=o.dirname(t);try{i.statSync(n).isDirectory()||i.readdirSync(n)}catch(t){if(!t||"ENOENT"!==t.code)throw t;c.mkdirsSync(n)}i.writeFileSync(t,"")}}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(0),i=n(1),c=n(3),s=n(6).pathExists,{areIdentical:a}=n(8);t.exports={createLink:r((function(t,e,n){function r(t,e){i.link(t,e,t=>{if(t)return n(t);n(null)})}i.lstat(e,(u,f)=>{i.lstat(t,(i,u)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);if(f&&a(u,f))return n(null);const l=o.dirname(e);s(l,(o,i)=>o?n(o):i?r(t,e):void c.mkdirs(l,o=>{if(o)return n(o);r(t,e)}))})})})),createLinkSync:function(t,e){let n;try{n=i.lstatSync(e)}catch{}try{const e=i.lstatSync(t);if(n&&a(e,n))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const r=o.dirname(e);return i.existsSync(r)||c.mkdirsSync(r),i.linkSync(t,e)}}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(0),i=n(7),c=n(3),s=c.mkdirs,a=c.mkdirsSync,u=n(45),f=u.symlinkPaths,l=u.symlinkPathsSync,p=n(46),y=p.symlinkType,d=p.symlinkTypeSync,h=n(6).pathExists,{areIdentical:m}=n(8);function v(t,e,n,r){f(t,e,(c,a)=>{if(c)return r(c);t=a.toDst,y(a.toCwd,n,(n,c)=>{if(n)return r(n);const a=o.dirname(e);h(a,(n,o)=>n?r(n):o?i.symlink(t,e,c,r):void s(a,n=>{if(n)return r(n);i.symlink(t,e,c,r)}))})})}t.exports={createSymlink:r((function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,i.lstat(e,(o,c)=>{!o&&c.isSymbolicLink()?Promise.all([i.stat(t),i.stat(e)]).then(([o,i])=>{if(m(o,i))return r(null);v(t,e,n,r)}):v(t,e,n,r)})})),createSymlinkSync:function(t,e,n){let r;try{r=i.lstatSync(e)}catch{}if(r&&r.isSymbolicLink()){const n=i.statSync(t),r=i.statSync(e);if(m(n,r))return}const c=l(t,e);t=c.toDst,n=d(c.toCwd,n);const s=o.dirname(e);return i.existsSync(s)||a(s),i.symlinkSync(t,e,n)}}},function(t,e,n){"use strict";const r=n(0),o=n(1),i=n(6).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return o.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const c=r.dirname(e),s=r.join(c,t);return i(s,(e,i)=>e?n(e):i?n(null,{toCwd:s,toDst:t}):o.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(c,t)})))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(n=o.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const i=r.dirname(e),c=r.join(i,t);if(n=o.existsSync(c),n)return{toCwd:c,toDst:t};if(n=o.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(i,t)}}}}},function(t,e,n){"use strict";const r=n(1);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";const r=n(2).fromPromise,o=n(48);o.outputJson=r(n(50)),o.outputJsonSync=n(51),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,t.exports=o},function(t,e,n){"use strict";const r=n(49);t.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},function(t,e,n){let r;try{r=n(1)}catch(t){r=n(12)}const o=n(2),{stringify:i,stripBom:c}=n(13);const s={readFile:o.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||r,i=!("throws"in e)||e.throws;let s,a=await o.fromCallback(n.readFile)(t,e);a=c(a);try{s=JSON.parse(a,e?e.reviver:null)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}return s})),readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||r,o=!("throws"in e)||e.throws;try{let r=n.readFileSync(t,e);return r=c(r),JSON.parse(r,e.reviver)}catch(e){if(o)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:o.fromPromise((async function(t,e,n={}){const c=n.fs||r,s=i(e,n);await o.fromCallback(c.writeFile)(t,s,n)})),writeFileSync:function(t,e,n={}){const o=n.fs||r,c=i(e,n);return o.writeFileSync(t,c,n)}};t.exports=s},function(t,e,n){"use strict";const{stringify:r}=n(13),{outputFile:o}=n(14);t.exports=async function(t,e,n={}){const i=r(e,n);await o(t,i,n)}},function(t,e,n){"use strict";const{stringify:r}=n(13),{outputFileSync:o}=n(14);t.exports=function(t,e,n){const i=r(e,n);o(t,i,n)}},function(t,e,n){"use strict";t.exports={moveSync:n(53)}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(18).copySync,c=n(9).removeSync,s=n(3).mkdirpSync,a=n(8);function u(t,e,n){try{r.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,n){return i(t,e,{overwrite:n,errorOnExist:true}),c(t)}(t,e,n)}}t.exports=function(t,e,n){const i=(n=n||{}).overwrite||n.clobber||!1,{srcStat:f,isChangingCase:l=!1}=a.checkPathsSync(t,e,"move",n);return a.checkParentPathsSync(t,f,e,"move"),function(t){const e=o.dirname(t);return o.parse(e).root===e}(e)||s(o.dirname(e)),function(t,e,n,o){if(o)return u(t,e,n);if(n)return c(e),u(t,e,n);if(r.existsSync(e))throw new Error("dest already exists.");return u(t,e,n)}(t,e,i,l)}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={move:r(n(55))}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(20).copy,c=n(9).remove,s=n(3).mkdirp,a=n(6).pathExists,u=n(8);function f(t,e,n,r,o){return r?l(t,e,n,o):n?c(e,r=>r?o(r):l(t,e,n,o)):void a(e,(r,i)=>r?o(r):i?o(new Error("dest already exists.")):l(t,e,n,o))}function l(t,e,n,o){r.rename(t,e,r=>r?"EXDEV"!==r.code?o(r):function(t,e,n,r){i(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):c(t,r))}(t,e,n,o):o())}t.exports=function(t,e,n,r){"function"==typeof n&&(r=n,n={});const i=n.overwrite||n.clobber||!1;u.checkPaths(t,e,"move",n,(n,c)=>{if(n)return r(n);const{srcStat:a,isChangingCase:l=!1}=c;u.checkParentPaths(t,a,e,"move",n=>n?r(n):function(t){const e=o.dirname(t);return o.parse(e).root===e}(e)?f(t,e,i,l,r):void s(o.dirname(e),n=>n?r(n):f(t,e,i,l,r)))})}},function(t,e,n){var r=n(10),o=n(11),i=n(0);t.exports=function(t,e,n,c){if(t){if("common"===n){if(!e.destPath)throw new Error("没有配置公共样式表的路径");var s=i.join(process.cwd(),e.destPath);o.append(s,t,(function(){console.log("成功生成公共样式表")})),e.insertInfos&&o.getAbsolutePath(e.insertInfos.insertFile).then((function(t){r.readFile(t,"utf8").then((function(n){n.includes(e.insertInfos.insertContent)||(e.insertInfos.insertPosition?n=n.replace(e.insertInfos.insertPosition,"".concat(e.insertInfos.insertPosition,"\n").concat(e.insertInfos.insertContent,"\n")):n+="\n".concat(e.insertInfos.insertContent,"\n"),o.write(t,n,(function(){console.log("成功插入",t)})))}))}))}"each"===n&&t.forEach((function(t,e){var n=t.path;c.includes(n)&&o.write(n,(t.keepContent||"")+t.cssString,(function(){}))}))}}},function(t,e,n){var r;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(11),c=n(5),s=n(4),a=n(0),u=n(15),f=s.SUFFIX_DEEP,l=s.SUFFIX_COMMON,p=s.LEVEL_FLAG,y=s.SUFFIX_SAME_FILE_COMMON,d=(o(r={},f,"继承规则提升"),o(r,l,"文件间的相同样式提升"),o(r,y,"当前文件相同样式提升"),r);t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!c.isEmptyObject(t)){var r=a.join(process.cwd(),n);return u.ensureDirSync(r),Promise.resolve().then((function(){var n="",o=e.map((function(t){return t.replace(process.cwd(),"")}));for(var c in n+="/**** 以下".concat(o.length,"个文件存在样式变动 ******/\n [\n\t").concat(o.join("\n\t"),"\n]\n\n /**** 以下为变动详情 *****/\n"),t){var s=t[c];n+="\nvvvvvvvvvvvvvvvv ".concat(c.replace(process.cwd(),"")," start vvvvvvvvvvvvvvvv\n"),s.forEach((function(t){n+="".concat((t.dir||"").replace(p," ")," ").concat(t.selector," =====> ").concat(t.prop,": ").concat(t.value," >>> ").concat(d[t.type],"\n")})),n+="\n^^^^^^^^^^^^^^^^ ".concat(c.replace(process.cwd(),"")," end ^^^^^^^^^^^^^^^^\n\n")}var u=new Date;i.append(a.join(r,"log".concat(u.toLocaleDateString().replace(/\//g,"-"),"T").concat(u.toLocaleTimeString("en-US",{hour12:!1}).replace(/(\d\d):(\d\d):(\d\d)/,"$1h$2m$3s"),".txt")),n,(function(){console.log("日志记录完成")}))}))}}}])}));