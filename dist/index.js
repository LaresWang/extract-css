!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(global,(function(){return t={6459:t=>{const e="====>>>>",n=new RegExp(e,"g");t.exports={SUFFIX_DEEP:"--remove--deep--hoisted",SUFFIX_COMMON:"--remove--common--hoisted",SUFFIX_SAME_FILE_COMMON:"--remove--same--file--common--hoisted",SAME_SELECTOR:"$$$$same",HAS_PATCHED:"$$$$haspatched",LEVEL_FLAG:e,ROOT_SELECTOR:"root",LEVEL_FLAG_REG:n,DO_NOT_CHECK_REG:/(\.el-)|(\/deep\/)|(:{1,2}[-a-zA-Z]*)/,INHERIT_CSS_PROPS:["font-family","font-weight","font-size","color","text-align","line-height","letter-spacing","cursor"],LINE_BREAK_REG:/\n|\r/g,KEEP_CSS_RULE_REG:/(\.el-)|(\/deep\/)|(:)|(@media)|(@keyframes)/,ROUGH_PATH_REG:/(?<!\/{2,}\s*)import(?:(\s*?\()|(\s+?.*?))['"]((\.\/|\.\.\/|@\/).*?)['"]\)?/g,ACCURATE_PATH_REG:/(?<=import(?:(\s*?\()|(\s+?.*?))['"])((\.\/|\.\.\/|@\/).*?)(?=['"]\)?)/g,USEFUL_EXTENSION_REG:/(\.vue$|\.css$|\.less$)/,USELESS_EXTENSION_REG:/.js$/,VUE_FILE_REG:/\.vue$/,CSS_FILE_REG:/\.css$/,LESS_FILE_REG:/\.less$/,STYLE_WITH_TAG_REG:/(?<!\/{2,}\s*)(<style\s*?.*?>)([\s\S]*?)(?=\/\*[\s\S]*?\*\/)*[\s\S]*?(<\/style>)/g,ANNOTATION_REG:/(\s*\/\*[\s\S]*?\*\/)|(\s*\/{2,}[\s\S]*?(\n|\r))|(\s*@import\s*.*?;)/g,STYLE_START_REG:/(<style\s{0,}.*?>)/,IMPORT_CSS_REG:/(?<!\/{2,}\s*)(@import\s+.*?;)/g,CSS_CONTENT_REG:/\s*<style\s*?.*?>\s+(\s*\/{0,}\s*@import\s+.*?;.*)*([\s\S]*?)(?=<\/style>)/,SAME_LEVEL_REG:/\s*\&(.*?)/g,CHILD_LEVEL_REG:/\s*\&\s*\>\s*/g,START_WITH_LETTER:/^[a-zA-Z]/,DIVIDE_SELECTORS:/,(\s+)?/g}},31:(t,e,n)=>{const r=n(4288),o=n(6459),i=function(t,e){t.forEach((t=>{if(t&&t.indexOf(":")>-1){const n=t.split(":");if(e[n[0].trim()]?.includes("!important"))return;e[n[0].trim()]=n[1].trim()}}))};t.exports=function(t){let e={},n=[],s=-100,c=-100,a=-100,u=t.replace(o.LINE_BREAK_REG,"").trim();for(;u.length;){s=u.indexOf("{"),a=u.indexOf("}"),s>-1&&(c=u.indexOf("{",s+1));const t=c>-1&&c<a,o=-1==s&&a>-1||a<s;if((-1==c||c>a)&&s>-1&&s<a){const t=u.slice(0,s).trim(),o=u.slice(s+1,a).trim();let c=e;n.length&&(c=r.getInnermostLevel(n,c)),!c[t]&&(c[t]={}),i(o.split(";"),c[t]),u=u.slice(a+1)}else if(t){const t=u.slice(0,s).trim();n.push(t);const o=u.slice(s+1,c),a=o.lastIndexOf(";");if(a>-1){const t=o.slice(0,a).trim();let c=e;c=r.getInnermostLevel(n,c),i(t.split(";"),c),u=u.slice(s+1+a+1)}else u=u.slice(s+1)}else if(o){const t=u.slice(0,a);if(t.trim()&&t.indexOf(":")>-1){let o=e;o=r.getInnermostLevel(n,o),i(t.split(";"),o)}n.pop(),u=u.slice(a+1)}}return e}},41:(t,e,n)=>{const r=n(1017),o=n(3292),i=n(6459),{ROUGH_PATH_REG:s,ACCURATE_PATH_REG:c,USEFUL_EXTENSION_REG:a,USELESS_EXTENSION_REG:u,VUE_FILE_REG:l,CSS_FILE_REG:f,LESS_FILE_REG:p,STYLE_WITH_TAG_REG:h,ANNOTATION_REG:d,STYLE_START_REG:y,IMPORT_CSS_REG:m,CSS_CONTENT_REG:E}=i;t.exports=class{constructor(t={}){this.count=0,this.fileLists=[],this.styleLists=[],this.done=null,this.entry=t.entry,this.exclude=t.exclude&&t.exclude.map((t=>this.wraperPath(t)))||[],this.destPath=t.destPath}wraperPath(t){return r.join(process.cwd(),t)}run(t){this.done=t||(()=>{}),"string"==typeof this.entry?(this.count++,this.getDependencyFiles(this.wraperPath(this.entry))):Array.isArray(this.entry)&&this.entry.map((t=>this.wraperPath(t))).forEach((t=>{this.count++,this.getDependencyFiles(t)}))}async getDependencyFiles(t){if(this.fileLists.includes(t)||t.includes("node_modules/"))return this.count--,void(0==this.count&&this.done(this.filterUselessFile(),this.styleLists));this.fileLists.push(t);const e=await o.readFile(t,"utf8"),n=e?.match(s);this.getStyleData(t,e),n&&(await this.handlePaths(t,n))?.forEach((t=>{this.count++,this.getDependencyFiles(t)})),this.count--,0==this.count&&this.done(this.filterUselessFile(),this.styleLists)}async handlePaths(t,e=[]){const n=e.join(",").match(c);return new Promise((async(e,r)=>{const o=[];let i=0;n.forEach((async r=>{const s=await this.getFilePath(t,r);s&&o.push(s),i++,i===n.length&&e(o)}))}))}async getFilePath(t,e){let n="";if(n=e.startsWith("@")?e.replace("@",process.cwd()+"/src"):r.join(t,"..",e),a.test(n))return n;if(u.test(n))return n;{const t=n.lastIndexOf("/");if(n.slice(t).includes("."))return;try{return(await o.stat(n)).isDirectory()?await this.addFileExtensionOrFileName(n):await this.addFileExtensionOrFileName(n,!0)}catch(t){return await this.addFileExtensionOrFileName(n,!0)}}}async addFileExtensionOrFileName(t,e){try{const n=e?t+".vue":r.join(t,"index.vue");return await o.access(n),n}catch(n){try{const n=e?t+".js":r.join(t,"index.js");return await o.access(n),n}catch(n){try{const n=e?t+".css":r.join(t,"index.css");return await o.access(n),n}catch(n){try{const n=e?t+".less":r.join(t,"index.less");return await o.access(n),n}catch(t){return""}}}}}filterUselessFile(){return this.fileLists.filter((t=>!u.test(t)))}getStyleData(t,e){if(!u.test(t))if(f.test(t)){const n=e.match(m);this.styleLists.push({type:"css",path:t,importInfo:n&&n.join("\n"),originData:e,data:e.replace(d,"")})}else if(p.test(t)){const n=e.match(m);this.styleLists.push({type:"less",path:t,importInfo:n&&n.join("\n"),originData:e,data:e.replace(d,"")})}else if(l.test(t)){const n=e.match(h),r=e.replace(h,""),o={},i={};let s=[];if(n&&n.length)for(let t=0;t<n.length;t++){const e=n[t],r=e.match(y);r&&r[1]&&(o[t]=r[1]);const c=e.match(m);c&&c.length&&(i[t]=c.join("\n"));const a=e.match(E);a&&a[2]?s.push(a[2]):s.push("")}n&&this.styleLists.push({type:"vue",path:t,tagInfo:o,importInfo:i,keepContent:r?.trim(),originData:e,data:s.map((t=>t.replace(d,"")))})}}}},9002:(t,e,n)=>{const r=n(4288),o=n(3970),i=n(6459),{SUFFIX_DEEP:s,SUFFIX_COMMON:c,SAME_SELECTOR:a,HAS_PATCHED:u,DO_NOT_CHECK_REG:l,INHERIT_CSS_PROPS:f,START_WITH_LETTER:p,SUFFIX_SAME_FILE_COMMON:h,ROOT_SELECTOR:d,SAME_LEVEL_REG:y,CHILD_LEVEL_REG:m,LEVEL_FLAG:E,LEVEL_FLAG_REG:S}=i;let w=[];const g=function(t,e,n,o){const i=r.deepClone(t);return v(i,e,n,o,null),i},v=function(t,e,n,r,o,i={}){const c={},a={},u=[];for(const e in t)if(f.includes(e)&&"string"==typeof t[e]){if(a[e]=t[e],a[e+"$$_FROM_$$"]=w.join(E),a[e]===i[e])if(n){let o=i[e+"$$_FROM_$$"],c=w.join(E).replace(o,"");if(c=c.split(E).filter((t=>t)),c.length){const i=o.split(E);let u="";c.forEach((t=>{i.push(t);const e=L(i.join(" "))?.trim();e&&(u&&(u+="|"),u+=`${e},|${e}$`)}));const l=new RegExp(u);let f=!0;for(let t=0;t<r.length;t++){const o=r[t];if(l.test(o)&&n[o][e]&&n[o][e]!==a[e]){f=!1;break}}f&&(t[e+s]=!0)}else t[e+s]=!0}else t[e+s]=!0}else"object"!=typeof t[e]||l.test(e)?l.test(e)&&u.push(t[e]):(c[e]=t[e],u.push(t[e]));const p=Object.keys(c);p.length&&(o&&w.push(o),p.forEach((t=>{v(c[t],e,n,r,t,{...i,...a})})),w.pop())},O={},b=function(t,e,n){const o=t.flattenCss,i=n?.flattenCss,s=Object.keys(i||{});if(r.isObject(o))for(const n in o)k(n,o[n])&&(o[n][u]=!0,_(n,o,t,e,-1,i,s)),o[n][a]&&x(n,o[n],t,-1);else r.isArray(o)&&o.forEach(((n,r)=>{for(const o in n)k(o,n[o])&&(n[o][u]=!0,_(o,n,t,e,r,i,s)),n[o][a]&&x(o,n[o],t,r)}))},_=function(t,e,n,o,i,s,c){const a=[];let l=[];o.forEach((e=>{const n=e.flattenCss;r.isObject(n)?n[t]&&(n[t][u]=!0,a.push({css:n[t],from:e.path,index:-1}),l.push(e.path)):r.isArray(n)&&n.forEach(((n,r)=>{n[t]&&(n[t][u]=!0,a.push({css:n[t],from:e.path,index:r}),l.push(e.path))}))})),a.length&&(a.unshift({css:e[t],from:n.path,index:i}),l.push(n.path),l=[...new Set(l)],F(t,a,s,c,l.length))},F=function(t,e,n,r,o){const i={};e.forEach((t=>{const e=t.css;for(const n in e){if(C(n,e))continue;const r=`${n}$$__$$${e[n]}`;!i[r]&&(i[r]=[]),i[r].push({dir:e.dir||d,from:t.from})}e[a]&&e[a].forEach((e=>{for(const n in e){if(C(n,e))continue;const r=`${n}$$__$$${e[n]}`;!i[r]&&(i[r]=[]),i[r].push({dir:e.dir||d,from:t.from})}}))}));for(const s in i){const u=s.split("$$__$$"),l=i[s],f=[],p=[];l.forEach((t=>{!f.includes(t.dir)&&f.push(t.dir),!p.includes(t.from)&&p.push(t.from)}));const h=f.indexOf(d),y=p.length;if(!(h>-1&&y<o)&&f.length&&y>1){if(-1===h&&f.length===y);else if(y<o){const t=[];if(f.forEach(((n,r)=>{for(let o=0;o<e.length;o++){const i=e[o].css;let s=!1,c=!0;if(i.dir===n)s=!0,i[u[0]]===u[1]&&(c=!1);else if(i[a])for(let t=0;t<i[a].length;t++){const e=i[a][t];if(e.dir===n&&(s=!0,e[u[0]]===u[1])){c=!1;break}}if(s&&c){t.push(r);break}}})),t.reverse(),t.forEach((t=>{f.splice(t,1)})),!f.length)continue}if(n){const e=L(t);if(f.includes(d)){if(n[e])continue;let t=0;for(;t<r.length&&!r[t].includes(e);t++);if(t!==r.length)continue}else{let e=L(t,f[0]),n=0;for(;n<r.length&&!r[n].includes(e);n++);if(n!==r.length)continue}}!O[t]&&(O[t]=[]),O[t].push({prop:u[0],value:u[1],dirs:f}),e.forEach((t=>{t.css[u[0]]===u[1]&&(o===p.length||f.includes(t.css.dir))&&(t.css[u[0]+c]=!0),t.css[a]&&t.css[a].forEach((t=>{t[u[0]]===u[1]&&f.includes(t.dir)&&(t[u[0]+c]=!0)}))}))}}},L=function(t,e){return e?(e.replace(S," ")+" "+t).replace(y,"$1").replace(/,.*/g,"").replace(m," > "):t.replace(y,"$1").replace(/,.*/g,"").replace(m," > ")},k=function(t,e){return!p.test(t)&&!e[u]},x=function(t,e,n,r){const o=e[a],i=o?.length||0,s=[e.dir||d];if(i>1)for(const c in e){if(C(c,e))continue;let a=0;for(;a<i&&o[a][c]===e[c];a++){const t=o[a].dir||d;!s.includes(t)&&s.push(t)}a===i&&$(c,t,e,o,n,r,s)}else if(1===i){const i=o[0];for(const o in e)if(!C(o,e)&&i[o]===e[o]){const c=i.dir||d;!s.includes(c)&&s.push(c),$(o,t,e,i,n,r,s)}}},$=function(t,e,n,o,i,s,c){const a=N(e,c);i.common?i.common[s]?i.common[s][a]||(i.common[s][a]={}):i.common[s]={[a]:{}}:i.common={[s]:{[a]:{}}},i.common[s][a][t]?.includes("!important")||(i.common[s][a][t]=n[t]),n[t+h]=!0,r.isObject(o)?o[t+h]=!0:r.isArray(o)&&o.forEach((e=>e[t+h]=!0))},N=function(t,e){if(e.length>0){const n=e.indexOf(d);if(n>-1&&e.splice(n,1),e.length){let n="";return e.forEach((e=>{n+=`${e.replace(S," ")} ${t},`})),n.slice(0,-1)}return t}return t},C=function(t,e,n){return"dir"===t||t===u||t===a||t.includes(s)||t.includes(c)||t.includes(h)||e[t+s]||e[t+c]||e[t+h]||n&&(n[t+s]||n[t+c]||n[t+h])||"string"!=typeof e[t]};t.exports=function(t,e){const n=function(t){const e=[];return t.forEach((t=>{r.isObject(t.cssJson)?!r.isEmptyObject(t.cssJson)&&e.push(t):r.isArray(t.cssJson)&&t.cssJson.some((t=>!r.isEmptyObject(t)))&&e.push(t)})),e}(t),i=function(t,e){let n=null;return e&&(n=Object.keys(e)),t.forEach((t=>{const o=t.cssJson;w=[],r.isObject(o)?t.filteredSameInheritCss=g(o,t.path,e,n):r.isArray(o)&&(w=[],t.filteredSameInheritCss=[],o.forEach((r=>t.filteredSameInheritCss.push(g(r,t.path,e,n)))))})),t}(n,e?.cssJson),s=o(i);let c=null;return e&&(e.filteredSameInheritCss=e.cssJson,c=o([e])),console.log("开始比对：",Date.now()),function(t,e){const n=t.length;console.log("总共数量",n);for(let r=0;r<n;r++)b(t[r],t.slice(r+1),e)}(s,c&&c[0]),console.log("比对完成：",Date.now()),{flatened:s,common:O}}},3970:(t,e,n)=>{const r=n(4288),o=n(6459),{KEEP_CSS_RULE_REG:i,SAME_SELECTOR:s,LEVEL_FLAG:c}=o;let a=[],u={};const l=function(t){if(r.isEmptyObject(t))return{};u={},f(t);for(const t in u)a=[],p(u[t],t);return u},f=function(t){for(const e in t)"object"==typeof t[e]&&(u[e]=t[e])},p=function(t,e){if(!e||(a.push(e),!i.test(e)))for(const e in t){if(r.isEmptyObject(t[e])||e===s)continue;let n=t[e];if("object"==typeof n){if(delete t[e],n.dir=a.join(c),u[e]?(!u[e][s]&&(u[e][s]=[]),u[e][s].push(n)):u[e]=n,i.test(e))continue;a.push(e),p(n),a.pop()}}};t.exports=function(t){return t.forEach((t=>{const e=r.deepClone(t.filteredSameInheritCss);r.isObject(e)?t.flattenCss=l(e):r.isArray(e)&&(t.flattenCss=[],e.forEach((e=>t.flattenCss.push(l(e)))))})),t}},2993:(t,e,n)=>{const r=n(4288),o=n(6459),{DIVIDE_SELECTORS:i,SAME_LEVEL_REG:s,CHILD_LEVEL_REG:c}=o;let a=1,u={style:"",common:""};const l=function(t,e){for(const n in t){const r=t[n];if("string"==typeof r)u[e]+=`${a>0?"\t".repeat(a):""}${n}: ${r};\n`;else if("object"==typeof r){const t=a>0?"\t".repeat(a):"";let o=n;"common"===e&&(o=o.replace(s,"$1").replace(c," > ")),o=o.replace(i,",\n"+t),u[e]+=`${t}${o} {\n`,a++,l(r,e),a--,u[e]+=`${a>0?"\t".repeat(a):""}}\n`}}},f=function(t,e,n,r){return r?"vue"===t?`${n}\n\t${r}\n${e.common}\n${e.style}</style>`:`${r}\n${e.common}\n${e.style}`:!e.style.trim()&&e.common.trim()?"":"vue"===t?`${n}\n${e.common}\n${e.style}</style>`:`${e.common}\n${e.style}`};t.exports={genCommon:function(t){if(r.isEmptyObject(t))return"";let e="/**\n* 自动生成 \n*/\n\n";for(const n in t){e+=`${n.replace(i,",\n")} {\n`;const r=t[n];for(const t in r)e+=`\t${t}: ${r[t]};\n`;e+="}\n"}return e},genEach:function(t){return t.forEach((t=>{const{type:e,path:n,tagInfo:o,importInfo:i,common:s,unflattenCss:c}=t;u={style:"",common:""},r.isObject(c)?(a=0,l(c,"style"),s&&s[-1]&&(a=0,l(s[-1],"common")),t.cssString=f(e,u,o,i)):r.isArray(c)&&c.forEach(((n,r)=>{u={style:"",common:""},a=1,l(n,"style"),s&&s[r]&&(a=1,l(s[r],"common")),t.cssString=(t.cssString||"")+"\n"+f(e,u,o[r],i[r])}))})),t}}},4660:(t,e,n)=>{const r=n(3292),o=n(5674),i=n(1017),s=n(7147).constants;t.exports={write:function(t,e,n){r.writeFile(t,e).then((()=>n())).catch((t=>console.log(t)))},append:function(t,e,n){r.appendFile(t,e).then((()=>n())).catch((t=>console.log(t)))},writeJson:function(t,e,n){o.writeJSON(t,e,{spaces:2}).then((()=>n())).catch((t=>console.log(t)))},getAbsolutePath:async function(t){try{return await r.access(t,s.F_OK),t}catch{const e=i.join(process.cwd(),t);console.log(e);try{return await r.access(e,s.F_OK),e}catch(e){throw console.log(e),new Error(`文件不存在：${t}`)}}}}},6010:(t,e,n)=>{n(1017);const r=n(41),o=n(31),i=n(9002),s=n(1317),c=n(2993),a=n(7570),u=(n(4660),n(8590)),l=n(5437),f={entry:"src/main.js",exclude:[],include:["src/routes/router.js","src/routes/chat.js"],destPath:"src/assets/css/common.less",insertInfos:{insertFile:"src/main.js",insertContent:'import "./assets/css/common.less"'},logOutPut:"logs"},p=new r(f);t.exports=function(){p.run(((t,e)=>{let n=null,r=-1;e.forEach(((t,e)=>{const i=t.data;"string"==typeof i?t.cssJson=o(i):Array.isArray(i)&&(t.cssJson=i.map((t=>o(t)))),delete t.data,t.path.endsWith(f.destPath)&&(n=t,r=e)})),console.log(e.length,1),r>-1&&(console.log("已存在抽离过的公共样式文件"),e.splice(r,1));const p=i(e,n),h=s(p.common),d=c.genCommon(h);u(d,f,"common");const{lists:y,logs:m}=a(p.flatened),E=Object.keys(m);l(m,E,f.logOutPut);const S=c.genEach(y);u(S,null,"each",E)}))}},8590:(t,e,n)=>{const r=n(3292),o=n(4660),i=n(1017);t.exports=function(t,e,n,s){if(t){if("common"===n){if(!e.destPath)throw new Error("没有配置公共样式表的路径");const n=i.join(process.cwd(),e.destPath);o.append(n,t,(()=>{console.log("成功生成公共样式表")})),e.insertInfos&&o.getAbsolutePath(e.insertInfos.insertFile).then((t=>{r.readFile(t,"utf8").then((n=>{n.includes(e.insertInfos.insertContent)||(e.insertInfos.insertPosition?n=n.replace(e.insertInfos.insertPosition,`${e.insertInfos.insertPosition}\n${e.insertInfos.insertContent}\n`):n+=`\n${e.insertInfos.insertContent}\n`,o.write(t,n,(()=>{console.log("成功插入",t)})))}))}))}"each"===n&&t.forEach(((t,e)=>{const n=t.path;s.includes(n)&&o.write(n,(t.keepContent||"")+t.cssString,(()=>{}))}))}}},5437:(t,e,n)=>{const r=n(4660),o=n(4288),i=n(6459),s=n(1017),c=n(5674),{SUFFIX_DEEP:a,SUFFIX_COMMON:u,LEVEL_FLAG:l,SUFFIX_SAME_FILE_COMMON:f}=i,p={[a]:"继承规则提升",[u]:"文件间的相同样式提升",[f]:"当前文件相同样式提升"};t.exports=function(t={},e,n){const i=s.join(process.cwd(),n);return Promise.resolve().then((()=>{if(o.isEmptyObject(t))return;let n="";const a=e.map((t=>t.replace(process.cwd(),"")));n+=`/**** 以下${a.length}个文件存在样式变动 ******/\n [\n\t${a.join("\n\t")}\n]\n\n /**** 以下为变动详情 *****/\n`;for(const e in t){const r=t[e];n+=`\nvvvvvvvvvvvvvvvv ${e.replace(process.cwd(),"")} start vvvvvvvvvvvvvvvv\n`,r.forEach((t=>{n+=`${(t.dir||"").replace(l," ")} ${t.selector} =====> ${t.prop}: ${t.value} >>> ${p[t.type]}\n`})),n+=`\n^^^^^^^^^^^^^^^^ ${e.replace(process.cwd(),"")} end ^^^^^^^^^^^^^^^^\n\n`}const u=new Date;c.ensureDirSync(i),r.append(s.join(i,`log${u.toLocaleDateString().replace(/\//g,"-")}T${u.toLocaleTimeString("en-US",{hour12:!1})}.txt`),n,(()=>{console.log("日志记录完成")}))}))}},5302:(t,e,n)=>{"use strict";const r=n(77),o=n(1017),i=n(1381).mkdirsSync,s=n(318).utimesMillisSync,c=n(2733);function a(t,e,n,i){const s=(i.dereference?r.statSync:r.lstatSync)(e);if(s.isDirectory())return function(t,e,n,o,i){return e?f(n,o,i):function(t,e,n,o){return r.mkdirSync(n),f(e,n,o),l(n,t)}(t.mode,n,o,i)}(s,t,e,n,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,n,o,i){return e?function(t,e,n,o){if(o.overwrite)return r.unlinkSync(n),u(t,e,n,o);if(o.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,o,i):u(t,n,o,i)}(s,t,e,n,i);if(s.isSymbolicLink())return function(t,e,n,i){let s=r.readlinkSync(e);if(i.dereference&&(s=o.resolve(process.cwd(),s)),t){let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(s,n);throw t}if(i.dereference&&(t=o.resolve(process.cwd(),t)),c.isSrcSubdir(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&c.isSrcSubdir(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(s,n)}return r.symlinkSync(s,n)}(t,e,n,i);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function u(t,e,n,o){return r.copyFileSync(e,n),o.preserveTimestamps&&function(t,e,n){(function(t){return 0==(128&t)})(t)&&function(t,e){l(t,128|e)}(n,t),function(t,e){const n=r.statSync(t);s(e,n.atime,n.mtime)}(e,n)}(t.mode,e,n),l(n,t.mode)}function l(t,e){return r.chmodSync(t,e)}function f(t,e,n){r.readdirSync(t).forEach((r=>function(t,e,n,r){const i=o.join(e,t),s=o.join(n,t),{destStat:u}=c.checkPathsSync(i,s,"copy",r);return function(t,e,n,r){if(!r.filter||r.filter(e,n))return a(t,e,n,r)}(u,i,s,r)}(r,t,e,n)))}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=c.checkPathsSync(t,e,"copy",n);return c.checkParentPathsSync(t,s,e,"copy"),function(t,e,n,s){if(s.filter&&!s.filter(e,n))return;const c=o.dirname(n);return r.existsSync(c)||i(c),a(t,e,n,s)}(u,t,e,n)}},8690:(t,e,n)=>{"use strict";t.exports={copySync:n(5302)}},7189:(t,e,n)=>{"use strict";const r=n(77),o=n(1017),i=n(1381).mkdirs,s=n(9257).pathExists,c=n(318).utimesMillis,a=n(2733);function u(t,e,n,r,c){const a=o.dirname(n);s(a,((o,s)=>o?c(o):s?f(t,e,n,r,c):void i(a,(o=>o?c(o):f(t,e,n,r,c)))))}function l(t,e,n,r,o,i){Promise.resolve(o.filter(n,r)).then((s=>s?t(e,n,r,o,i):i()),(t=>i(t)))}function f(t,e,n,i,s){(i.dereference?r.stat:r.lstat)(e,((c,u)=>c?s(c):u.isDirectory()?function(t,e,n,o,i,s){return e?y(n,o,i,s):function(t,e,n,o,i){r.mkdir(n,(r=>{if(r)return i(r);y(e,n,o,(e=>e?i(e):d(n,t,i)))}))}(t.mode,n,o,i,s)}(u,t,e,n,i,s):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?function(t,e,n,o,i,s){return e?function(t,e,n,o,i){if(!o.overwrite)return o.errorOnExist?i(new Error(`'${n}' already exists`)):i();r.unlink(n,(r=>r?i(r):p(t,e,n,o,i)))}(t,n,o,i,s):p(t,n,o,i,s)}(u,t,e,n,i,s):u.isSymbolicLink()?function(t,e,n,i,s){r.readlink(e,((e,c)=>e?s(e):(i.dereference&&(c=o.resolve(process.cwd(),c)),t?void r.readlink(n,((e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(c,n,s):s(e):(i.dereference&&(u=o.resolve(process.cwd(),u)),a.isSrcSubdir(c,u)?s(new Error(`Cannot copy '${c}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&a.isSrcSubdir(u,c)?s(new Error(`Cannot overwrite '${u}' with '${c}'.`)):function(t,e,n){r.unlink(e,(o=>o?n(o):r.symlink(t,e,n)))}(c,n,s)))):r.symlink(c,n,s))))}(t,e,n,i,s):u.isSocket()?s(new Error(`Cannot copy a socket file: ${e}`)):u.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${e}`)):s(new Error(`Unknown file: ${e}`))))}function p(t,e,n,o,i){r.copyFile(e,n,(r=>r?i(r):o.preserveTimestamps?function(t,e,n,r){return function(t){return 0==(128&t)}(t)?function(t,e,n){return d(t,128|e,n)}(n,t,(o=>o?r(o):h(t,e,n,r))):h(t,e,n,r)}(t.mode,e,n,i):d(n,t.mode,i)))}function h(t,e,n,o){!function(t,e,n){r.stat(t,((t,r)=>t?n(t):c(e,r.atime,r.mtime,n)))}(e,n,(e=>e?o(e):d(n,t,o)))}function d(t,e,n){return r.chmod(t,e,n)}function y(t,e,n,o){r.readdir(t,((r,i)=>r?o(r):m(i,t,e,n,o)))}function m(t,e,n,r,i){const s=t.pop();return s?function(t,e,n,r,i,s){const c=o.join(n,e),u=o.join(r,e);a.checkPaths(c,u,"copy",i,((e,o)=>{if(e)return s(e);const{destStat:a}=o;!function(t,e,n,r,o){r.filter?l(f,t,e,n,r,o):f(t,e,n,r,o)}(a,c,u,i,(e=>e?s(e):m(t,n,r,i,s)))}))}(t,s,e,n,r,i):i()}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),a.checkPaths(t,e,"copy",n,((o,i)=>{if(o)return r(o);const{srcStat:s,destStat:c}=i;a.checkParentPaths(t,s,e,"copy",(o=>o?r(o):n.filter?l(u,c,t,e,n,r):u(c,t,e,n,r)))}))}},6464:(t,e,n)=>{"use strict";const r=n(8981).fromCallback;t.exports={copy:r(n(7189))}},5590:(t,e,n)=>{"use strict";const r=n(8981).fromPromise,o=n(7749),i=n(1017),s=n(1381),c=n(4542),a=r((async function(t){let e;try{e=await o.readdir(t)}catch{return s.mkdirs(t)}return Promise.all(e.map((e=>c.remove(i.join(t,e)))))}));function u(t){let e;try{e=o.readdirSync(t)}catch{return s.mkdirsSync(t)}e.forEach((e=>{e=i.join(t,e),c.removeSync(e)}))}t.exports={emptyDirSync:u,emptydirSync:u,emptyDir:a,emptydir:a}},6530:(t,e,n)=>{"use strict";const r=n(8981).fromCallback,o=n(1017),i=n(77),s=n(1381);t.exports={createFile:r((function(t,e){function n(){i.writeFile(t,"",(t=>{if(t)return e(t);e()}))}i.stat(t,((r,c)=>{if(!r&&c.isFile())return e();const a=o.dirname(t);i.stat(a,((t,r)=>{if(t)return"ENOENT"===t.code?s.mkdirs(a,(t=>{if(t)return e(t);n()})):e(t);r.isDirectory()?n():i.readdir(a,(t=>{if(t)return e(t)}))}))}))})),createFileSync:function(t){let e;try{e=i.statSync(t)}catch{}if(e&&e.isFile())return;const n=o.dirname(t);try{i.statSync(n).isDirectory()||i.readdirSync(n)}catch(t){if(!t||"ENOENT"!==t.code)throw t;s.mkdirsSync(n)}i.writeFileSync(t,"")}}},1720:(t,e,n)=>{"use strict";const r=n(6530),o=n(4147),i=n(3635);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},4147:(t,e,n)=>{"use strict";const r=n(8981).fromCallback,o=n(1017),i=n(77),s=n(1381),c=n(9257).pathExists,{areIdentical:a}=n(2733);t.exports={createLink:r((function(t,e,n){function r(t,e){i.link(t,e,(t=>{if(t)return n(t);n(null)}))}i.lstat(e,((u,l)=>{i.lstat(t,((i,u)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);if(l&&a(u,l))return n(null);const f=o.dirname(e);c(f,((o,i)=>o?n(o):i?r(t,e):void s.mkdirs(f,(o=>{if(o)return n(o);r(t,e)}))))}))}))})),createLinkSync:function(t,e){let n;try{n=i.lstatSync(e)}catch{}try{const e=i.lstatSync(t);if(n&&a(e,n))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const r=o.dirname(e);return i.existsSync(r)||s.mkdirsSync(r),i.linkSync(t,e)}}},6072:(t,e,n)=>{"use strict";const r=n(1017),o=n(77),i=n(9257).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return o.lstat(t,(e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t})));{const s=r.dirname(e),c=r.join(s,t);return i(c,((e,i)=>e?n(e):i?n(null,{toCwd:c,toDst:t}):o.lstat(t,(e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(s,t)})))))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(n=o.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const i=r.dirname(e),s=r.join(i,t);if(n=o.existsSync(s),n)return{toCwd:s,toDst:t};if(n=o.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(i,t)}}}}},9259:(t,e,n)=>{"use strict";const r=n(77);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,((t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)}))},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},3635:(t,e,n)=>{"use strict";const r=n(8981).fromCallback,o=n(1017),i=n(7749),s=n(1381),c=s.mkdirs,a=s.mkdirsSync,u=n(6072),l=u.symlinkPaths,f=u.symlinkPathsSync,p=n(9259),h=p.symlinkType,d=p.symlinkTypeSync,y=n(9257).pathExists,{areIdentical:m}=n(2733);function E(t,e,n,r){l(t,e,((s,a)=>{if(s)return r(s);t=a.toDst,h(a.toCwd,n,((n,s)=>{if(n)return r(n);const a=o.dirname(e);y(a,((n,o)=>n?r(n):o?i.symlink(t,e,s,r):void c(a,(n=>{if(n)return r(n);i.symlink(t,e,s,r)}))))}))}))}t.exports={createSymlink:r((function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,i.lstat(e,((o,s)=>{!o&&s.isSymbolicLink()?Promise.all([i.stat(t),i.stat(e)]).then((([o,i])=>{if(m(o,i))return r(null);E(t,e,n,r)})):E(t,e,n,r)}))})),createSymlinkSync:function(t,e,n){let r;try{r=i.lstatSync(e)}catch{}if(r&&r.isSymbolicLink()){const n=i.statSync(t),r=i.statSync(e);if(m(n,r))return}const s=f(t,e);t=s.toDst,n=d(s.toCwd,n);const c=o.dirname(e);return i.existsSync(c)||a(c),i.symlinkSync(t,e,n)}}},7749:(t,e,n)=>{"use strict";const r=n(8981).fromCallback,o=n(77),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof o[t]));Object.assign(e,o),i.forEach((t=>{e[t]=r(o[t])})),e.realpath.native=r(o.realpath.native),e.exists=function(t,e){return"function"==typeof e?o.exists(t,e):new Promise((e=>o.exists(t,e)))},e.read=function(t,e,n,r,i,s){return"function"==typeof s?o.read(t,e,n,r,i,s):new Promise(((s,c)=>{o.read(t,e,n,r,i,((t,e,n)=>{if(t)return c(t);s({bytesRead:e,buffer:n})}))}))},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?o.write(t,e,...n):new Promise(((r,i)=>{o.write(t,e,...n,((t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffer:n})}))}))},"function"==typeof o.writev&&(e.writev=function(t,e,...n){return"function"==typeof n[n.length-1]?o.writev(t,e,...n):new Promise(((r,i)=>{o.writev(t,e,...n,((t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffers:n})}))}))})},5674:(t,e,n)=>{"use strict";t.exports={...n(7749),...n(8690),...n(6464),...n(5590),...n(1720),...n(6573),...n(1381),...n(4026),...n(530),...n(1315),...n(9257),...n(4542)}},6573:(t,e,n)=>{"use strict";const r=n(8981).fromPromise,o=n(7183);o.outputJson=r(n(3508)),o.outputJsonSync=n(9578),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,t.exports=o},7183:(t,e,n)=>{"use strict";const r=n(6813);t.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},9578:(t,e,n)=>{"use strict";const{stringify:r}=n(6780),{outputFileSync:o}=n(1315);t.exports=function(t,e,n){const i=r(e,n);o(t,i,n)}},3508:(t,e,n)=>{"use strict";const{stringify:r}=n(6780),{outputFile:o}=n(1315);t.exports=async function(t,e,n={}){const i=r(e,n);await o(t,i,n)}},1381:(t,e,n)=>{"use strict";const r=n(8981).fromPromise,{makeDir:o,makeDirSync:i}=n(8233),s=r(o);t.exports={mkdirs:s,mkdirsSync:i,mkdirp:s,mkdirpSync:i,ensureDir:s,ensureDirSync:i}},8233:(t,e,n)=>{"use strict";const r=n(7749),{checkPath:o}=n(3468),i=t=>"number"==typeof t?t:{mode:511,...t}.mode;t.exports.makeDir=async(t,e)=>(o(t),r.mkdir(t,{mode:i(e),recursive:!0})),t.exports.makeDirSync=(t,e)=>(o(t),r.mkdirSync(t,{mode:i(e),recursive:!0}))},3468:(t,e,n)=>{"use strict";const r=n(1017);t.exports.checkPath=function(t){if("win32"===process.platform&&/[<>:"|?*]/.test(t.replace(r.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}},4026:(t,e,n)=>{"use strict";t.exports={moveSync:n(6006)}},6006:(t,e,n)=>{"use strict";const r=n(77),o=n(1017),i=n(8690).copySync,s=n(4542).removeSync,c=n(1381).mkdirpSync,a=n(2733);function u(t,e,n){try{r.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,n){return i(t,e,{overwrite:n,errorOnExist:!0}),s(t)}(t,e,n)}}t.exports=function(t,e,n){const i=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l,isChangingCase:f=!1}=a.checkPathsSync(t,e,"move",n);return a.checkParentPathsSync(t,l,e,"move"),function(t){const e=o.dirname(t);return o.parse(e).root===e}(e)||c(o.dirname(e)),function(t,e,n,o){if(o)return u(t,e,n);if(n)return s(e),u(t,e,n);if(r.existsSync(e))throw new Error("dest already exists.");return u(t,e,n)}(t,e,i,f)}},530:(t,e,n)=>{"use strict";const r=n(8981).fromCallback;t.exports={move:r(n(436))}},436:(t,e,n)=>{"use strict";const r=n(77),o=n(1017),i=n(6464).copy,s=n(4542).remove,c=n(1381).mkdirp,a=n(9257).pathExists,u=n(2733);function l(t,e,n,r,o){return r?f(t,e,n,o):n?s(e,(r=>r?o(r):f(t,e,n,o))):void a(e,((r,i)=>r?o(r):i?o(new Error("dest already exists.")):f(t,e,n,o)))}function f(t,e,n,o){r.rename(t,e,(r=>r?"EXDEV"!==r.code?o(r):function(t,e,n,r){i(t,e,{overwrite:n,errorOnExist:!0},(e=>e?r(e):s(t,r)))}(t,e,n,o):o()))}t.exports=function(t,e,n,r){"function"==typeof n&&(r=n,n={});const i=n.overwrite||n.clobber||!1;u.checkPaths(t,e,"move",n,((n,s)=>{if(n)return r(n);const{srcStat:a,isChangingCase:f=!1}=s;u.checkParentPaths(t,a,e,"move",(n=>n?r(n):function(t){const e=o.dirname(t);return o.parse(e).root===e}(e)?l(t,e,i,f,r):void c(o.dirname(e),(n=>n?r(n):l(t,e,i,f,r)))))}))}},1315:(t,e,n)=>{"use strict";const r=n(8981).fromCallback,o=n(77),i=n(1017),s=n(1381),c=n(9257).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const a=i.dirname(t);c(a,((i,c)=>i?r(i):c?o.writeFile(t,e,n,r):void s.mkdirs(a,(i=>{if(i)return r(i);o.writeFile(t,e,n,r)}))))})),outputFileSync:function(t,...e){const n=i.dirname(t);if(o.existsSync(n))return o.writeFileSync(t,...e);s.mkdirsSync(n),o.writeFileSync(t,...e)}}},9257:(t,e,n)=>{"use strict";const r=n(8981).fromPromise,o=n(7749);t.exports={pathExists:r((function(t){return o.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:o.existsSync}},4542:(t,e,n)=>{"use strict";const r=n(77),o=n(8981).fromCallback,i=n(3456);t.exports={remove:o((function(t,e){if(r.rm)return r.rm(t,{recursive:!0,force:!0},e);i(t,e)})),removeSync:function(t){if(r.rmSync)return r.rmSync(t,{recursive:!0,force:!0});i.sync(t)}}},3456:(t,e,n)=>{"use strict";const r=n(77),o=n(1017),i=n(9491),s="win32"===process.platform;function c(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]})),t.maxBusyTries=t.maxBusyTries||3}function a(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i.strictEqual(typeof n,"function","rimraf: callback function required"),i(e,"rimraf: invalid options argument provided"),i.strictEqual(typeof e,"object","rimraf: options should be object"),c(e),u(t,e,(function o(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&r<e.maxBusyTries)return r++,setTimeout((()=>u(t,e,o)),100*r);"ENOENT"===i.code&&(i=null)}n(i)}))}function u(t,e,n){i(t),i(e),i("function"==typeof n),e.lstat(t,((r,o)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(t,e,r,n):o&&o.isDirectory()?p(t,e,r,n):void e.unlink(t,(r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(t,e,r,n):p(t,e,r,n);if("EISDIR"===r.code)return p(t,e,r,n)}return n(r)}))))}function l(t,e,n,r){i(t),i(e),i("function"==typeof r),e.chmod(t,438,(o=>{o?r("ENOENT"===o.code?null:n):e.stat(t,((o,i)=>{o?r("ENOENT"===o.code?null:n):i.isDirectory()?p(t,e,n,r):e.unlink(t,r)}))}))}function f(t,e,n){let r;i(t),i(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?d(t,e,n):e.unlinkSync(t)}function p(t,e,n,r){i(t),i(e),i("function"==typeof r),e.rmdir(t,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(t,e,n){i(t),i(e),i("function"==typeof n),e.readdir(t,((r,i)=>{if(r)return n(r);let s,c=i.length;if(0===c)return e.rmdir(t,n);i.forEach((r=>{a(o.join(t,r),e,(r=>{if(!s)return r?n(s=r):void(0==--c&&e.rmdir(t,n))}))}))}))}(t,e,r)}))}function h(t,e){let n;c(e=e||{}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i(e,"rimraf: missing options"),i.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&f(t,e,n)}try{n&&n.isDirectory()?d(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?f(t,e,n):d(t,e,n);if("EISDIR"!==n.code)throw n;d(t,e,n)}}function d(t,e,n){i(t),i(e);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(i(t),i(e),e.readdirSync(t).forEach((n=>h(o.join(t,n),e))),!s)return e.rmdirSync(t,e);{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch{}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=a,a.sync=h},2733:(t,e,n)=>{"use strict";const r=n(7749),o=n(1017),i=n(3837);function s(t,e,n){const o=n.dereference?t=>r.stat(t,{bigint:!0}):t=>r.lstat(t,{bigint:!0});return Promise.all([o(t),o(e).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((([t,e])=>({srcStat:t,destStat:e})))}function c(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function a(t,e){const n=o.resolve(t).split(o.sep).filter((t=>t)),r=o.resolve(e).split(o.sep).filter((t=>t));return n.reduce(((t,e,n)=>t&&r[n]===e),!0)}function u(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,n,r,l){i.callbackify(s)(t,e,r,((r,i)=>{if(r)return l(r);const{srcStat:s,destStat:f}=i;if(f){if(c(s,f)){const r=o.basename(t),i=o.basename(e);return"move"===n&&r!==i&&r.toLowerCase()===i.toLowerCase()?l(null,{srcStat:s,destStat:f,isChangingCase:!0}):l(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!f.isDirectory())return l(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!s.isDirectory()&&f.isDirectory())return l(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return s.isDirectory()&&a(t,e)?l(new Error(u(t,e,n))):l(null,{srcStat:s,destStat:f})}))},checkPathsSync:function(t,e,n,i){const{srcStat:s,destStat:l}=function(t,e,n){let o;const i=n.dereference?t=>r.statSync(t,{bigint:!0}):t=>r.lstatSync(t,{bigint:!0}),s=i(t);try{o=i(e)}catch(t){if("ENOENT"===t.code)return{srcStat:s,destStat:null};throw t}return{srcStat:s,destStat:o}}(t,e,i);if(l){if(c(s,l)){const r=o.basename(t),i=o.basename(e);if("move"===n&&r!==i&&r.toLowerCase()===i.toLowerCase())return{srcStat:s,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&a(t,e))throw new Error(u(t,e,n));return{srcStat:s,destStat:l}},checkParentPaths:function t(e,n,i,s,a){const l=o.resolve(o.dirname(e)),f=o.resolve(o.dirname(i));if(f===l||f===o.parse(f).root)return a();r.stat(f,{bigint:!0},((r,o)=>r?"ENOENT"===r.code?a():a(r):c(n,o)?a(new Error(u(e,i,s))):t(e,n,f,s,a)))},checkParentPathsSync:function t(e,n,i,s){const a=o.resolve(o.dirname(e)),l=o.resolve(o.dirname(i));if(l===a||l===o.parse(l).root)return;let f;try{f=r.statSync(l,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(c(n,f))throw new Error(u(e,i,s));return t(e,n,l,s)},isSrcSubdir:a,areIdentical:c}},318:(t,e,n)=>{"use strict";const r=n(77);t.exports={utimesMillis:function(t,e,n,o){r.open(t,"r+",((t,i)=>{if(t)return o(t);r.futimes(i,e,n,(t=>{r.close(i,(e=>{o&&o(t||e)}))}))}))},utimesMillisSync:function(t,e,n){const o=r.openSync(t,"r+");return r.futimesSync(o,e,n),r.closeSync(o)}}},6458:t=>{"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var n={__proto__:e(t)};else n=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})),n};var e=Object.getPrototypeOf||function(t){return t.__proto__}},77:(t,e,n)=>{var r,o,i=n(7147),s=n(2161),c=n(8520),a=n(6458),u=n(3837);function l(t,e){Object.defineProperty(t,r,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",o="___graceful-fs.previous");var f,p=function(){};if(u.debuglog?p=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!i[r]){var h=global[r]||[];l(i,h),i.close=function(t){function e(e,n){return t.call(i,e,(function(t){t||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(e,o,{value:t}),e}(i.close),i.closeSync=function(t){function e(e){t.apply(i,arguments),m()}return Object.defineProperty(e,o,{value:t}),e}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){p(i[r]),n(9491).equal(i[r].length,0)}))}function d(t){s(t),t.gracefulify=d,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){return"function"==typeof n&&(r=n,n=null),function t(n,r,o,i){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof o&&o.apply(this,arguments):y([t,[n,r,o],e,i||Date.now(),Date.now()])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,o){return"function"==typeof r&&(o=r,r=null),function t(e,r,o,i,s){return n(e,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):y([t,[e,r,o,i],n,s||Date.now(),Date.now()])}))}(t,e,r,o)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,o){return"function"==typeof n&&(o=n,n=null),function t(e,n,o,i,s){return r(e,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):y([t,[e,n,o,i],r,s||Date.now(),Date.now()])}))}(t,e,n,o)});var o=t.copyFile;o&&(t.copyFile=function(t,e,n,r){return"function"==typeof n&&(r=n,n=0),function t(e,n,r,i,s){return o(e,n,r,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):y([t,[e,n,r,i],o,s||Date.now(),Date.now()])}))}(t,e,n,r)});var i=t.readdir;if(t.readdir=function(t,e,n){return"function"==typeof e&&(n=e,e=null),function t(e,n,r,o){return i(e,n,(function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,i,s)):y([t,[e,n,r],i,o||Date.now(),Date.now()])}))}(t,e,n)},"v0.8"===process.version.substr(0,4)){var a=c(t);h=a.ReadStream,m=a.WriteStream}var u=t.ReadStream;u&&(h.prototype=Object.create(u.prototype),h.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var l=t.WriteStream;l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return m},set:function(t){m=t},enumerable:!0,configurable:!0});var f=h;Object.defineProperty(t,"FileReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var p=m;function h(t,e){return this instanceof h?(u.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}function m(t,e){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return p},set:function(t){p=t},enumerable:!0,configurable:!0});var E=t.open;function S(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,o,i){return E(e,n,r,(function(s,c){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof o&&o.apply(this,arguments):y([t,[e,n,r,o],s,i||Date.now(),Date.now()])}))}(t,e,n,r)}return t.open=S,t}function y(t){p("ENQUEUE",t[0].name,t[1]),i[r].push(t),E()}function m(){for(var t=Date.now(),e=0;e<i[r].length;++e)i[r][e].length>2&&(i[r][e][3]=t,i[r][e][4]=t);E()}function E(){if(clearTimeout(f),f=void 0,0!==i[r].length){var t=i[r].shift(),e=t[0],n=t[1],o=t[2],s=t[3],c=t[4];if(void 0===s)p("RETRY",e.name,n),e.apply(null,n);else if(Date.now()-s>=6e4){p("TIMEOUT",e.name,n);var a=n.pop();"function"==typeof a&&a.call(null,o)}else{var u=Date.now()-c,l=Math.max(c-s,1);u>=Math.min(1.2*l,100)?(p("RETRY",e.name,n),e.apply(null,n.concat([s]))):i[r].push(t)}void 0===f&&(f=setTimeout(E,0))}}global[r]||l(global,i[r]),t.exports=d(a(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(t.exports=d(i),i.__patched=!0)},8520:(t,e,n)=>{var r=n(2781).Stream;t.exports=function(t){return{ReadStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),c=0,a=s.length;c<a;c++){var u=s[c];this[u]=o[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()})):process.nextTick((function(){i._read()}))},WriteStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,c=i.length;s<c;s++){var a=i[s];this[a]=o[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2161:(t,e,n)=>{var r=n(2057),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var c=process.chdir;process.chdir=function(t){i=null,c.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,c)}t.exports=function(t){var e,n;function o(e){return e?function(n,r,o){return e.call(t,n,r,(function(t){f(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function i(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!f(t))throw t}}:e}function c(e){return e?function(n,r,o,i){return e.call(t,n,r,o,(function(t){f(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function a(e){return e?function(n,r,o){try{return e.call(t,n,r,o)}catch(t){if(!f(t))throw t}}:e}function u(e){return e?function(n,r,o){function i(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof r&&(o=r,r=null),r?e.call(t,n,r,i):e.call(t,n,i)}:e}function l(e){return e?function(n,r){var o=r?e.call(t,n,r):e.call(t,n);return o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296),o}:e}function f(t){return!t||"ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code)}r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,o){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?o&&o(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lchmodSync=function(e,n){var o,i=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{o=t.fchmodSync(i,n),s=!1}finally{if(s)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return o}}(t),t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,o,i){t.open(e,r.O_SYMLINK,(function(e,r){e?i&&i(e):t.futimes(r,n,o,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lutimesSync=function(e,n,o){var i,s=t.openSync(e,r.O_SYMLINK),c=!0;try{i=t.futimesSync(s,n,o),c=!1}finally{if(c)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return i}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t),t.chown=c(t.chown),t.fchown=c(t.fchown),t.lchown=c(t.lchown),t.chmod=o(t.chmod),t.fchmod=o(t.fchmod),t.lchmod=o(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){}),t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){}),"win32"===s&&(t.rename=(e=t.rename,function(n,r,o){var i=Date.now(),s=0;e(n,r,(function c(a){if(a&&("EACCES"===a.code||"EPERM"===a.code)&&Date.now()-i<6e4)return setTimeout((function(){t.stat(r,(function(t,i){t&&"ENOENT"===t.code?e(n,r,c):o(a)}))}),s),void(s<100&&(s+=10));o&&o(a)}))})),t.read=function(e){function n(n,r,o,i,s,c){var a;if(c&&"function"==typeof c){var u=0;a=function(l,f,p){if(l&&"EAGAIN"===l.code&&u<10)return u++,e.call(t,n,r,o,i,s,a);c.apply(this,arguments)}}return e.call(t,n,r,o,i,s,a)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,e),n}(t.read),t.readSync=(n=t.readSync,function(e,r,o,i,s){for(var c=0;;)try{return n.call(t,e,r,o,i,s)}catch(t){if("EAGAIN"===t.code&&c<10){c++;continue}throw t}})}},6813:(t,e,n)=>{let r;try{r=n(77)}catch(t){r=n(7147)}const o=n(8981),{stringify:i,stripBom:s}=n(6780),c={readFile:o.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||r,i=!("throws"in e)||e.throws;let c,a=await o.fromCallback(n.readFile)(t,e);a=s(a);try{c=JSON.parse(a,e?e.reviver:null)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}return c})),readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||r,o=!("throws"in e)||e.throws;try{let r=n.readFileSync(t,e);return r=s(r),JSON.parse(r,e.reviver)}catch(e){if(o)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:o.fromPromise((async function(t,e,n={}){const s=n.fs||r,c=i(e,n);await o.fromCallback(s.writeFile)(t,c,n)})),writeFileSync:function(t,e,n={}){const o=n.fs||r,s=i(e,n);return o.writeFileSync(t,s,n)}};t.exports=c},6780:t=>{t.exports={stringify:function(t,{EOL:e="\n",finalEOL:n=!0,replacer:r=null,spaces:o}={}){const i=n?e:"";return JSON.stringify(t,r,o).replace(/\n/g,e)+i},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}}},8981:(t,e)=>{"use strict";e.fromCallback=function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise(((n,r)=>{t.call(this,...e,((t,e)=>null!=t?r(t):n(e)))}));t.apply(this,e)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(...e){const n=e[e.length-1];if("function"!=typeof n)return t.apply(this,e);t.apply(this,e.slice(0,-1)).then((t=>n(null,t)),n)}),"name",{value:t.name})}},1317:(t,e,n)=>{const r=n(4288),o=n(6459),{LEVEL_FLAG_REG:i,SAME_LEVEL_REG:s,CHILD_LEVEL_REG:c,ROOT_SELECTOR:a}=o;t.exports=function(t){if(!t||!r.isObject(t))return;const e={};for(const n in t){const r=t[n];let o="";n.includes(",")&&(o=n.split(",")),r.forEach((t=>{const r=t.dirs;if(r.length&&!r.includes(a)){let u="";r.includes(a)?u+=`${n}, `:r.forEach((t=>{t.includes(",")?t.split(",").forEach((t=>{t=t?.trim(),o?o.forEach((e=>{e=e?.trim(),u+=`${t.replace(i," ")} ${e},`})):u+=`${t.replace(i," ")} ${n},`})):o?o.forEach((e=>{e=e?.trim(),u+=`${t.replace(i," ")} ${e},`})):u+=`${t.replace(i," ")} ${n},`}));let l=u.slice(0,-1).split(",");u=[...new Set(l)].join(","),u=u.replace(s,"$1").replace(c," > "),!e[u]&&(e[u]={}),e[u][t.prop]=t.value}else if(o)o.forEach((n=>{n=n?.trim().replace(s,"$1").replace(c," > "),e[n]||(e[n]={}),e[n][t.prop]=t.value}));else{const r=n.trim().replace(s,"$1").replace(c," > ");e[r]||(e[r]={}),e[r][t.prop]=t.value}}))}return e}},7570:(t,e,n)=>{const r=n(4288),o=n(6459),{SUFFIX_DEEP:i,SUFFIX_COMMON:s,SAME_SELECTOR:c,LEVEL_FLAG:a,SUFFIX_SAME_FILE_COMMON:u,HAS_PATCHED:l}=o,f={},p=function(t,e,n,r){return!("dir"===t||t===l||t===c||t.includes(s)||t.includes(i)||t.includes(u)||e[t+s]||e[t+i]||e[t+u])||(function(t,e,n,r){(e[t+s]||e[t+i]||e[t+u])&&(!f[r]&&(f[r]=[]),f[r].push({selector:n,dir:e.dir,prop:t,value:e[t],type:e[t+s]&&s||e[t+i]&&i||e[t+u]&&u}))}(t,e,n,r),!1)},h=function(t,e,n,o){const i=t.split(a);let s=n;i.push(e),s=r.getInnermostLevel(i,s),Object.assign(s,o)},d=function(t,e,n){for(const o in t){const i=t[o];let s={},a={};for(const t in i)p(t,i,o,n)?s[t]=i[t]:t===c&&i[t].forEach((t=>{const e=t.dir;!a[e]&&(a[e]={});for(const r in t)p(r,t,o,n)&&(a[e][r]=t[r])}));if(r.isEmptyObject(s)||(i.dir?h(i.dir,o,e,s):(!e[o]&&(e[o]={}),Object.assign(e[o],s))),!r.isEmptyObject(a))for(const t in a)r.isEmptyObject(a[t])||h(t,o,e,a[t])}};t.exports=function(t){return t.forEach((t=>{const e=r.deepClone(t.flattenCss);let n=null;r.isObject(e)?(n={},d(e,n,t.path)):r.isArray(e)&&(n=[],e.forEach(((e,r)=>{n[r]={},d(e,n[r],t.path)}))),t.unflattenCss=n})),{lists:t,logs:f}}},4288:t=>{const e=t=>Object.prototype.toString.call(t).slice(8,-1);t.exports={isNumber:t=>"Number"===e(t),isObject:t=>"Object"===e(t),isArray:t=>"Array"===e(t),isEmptyObject:t=>{for(let e in t)return!1;return!0},deepClone:function(t){return JSON.parse(JSON.stringify(t))},getInnermostLevel:function(t,e){if(!t.length)return e;for(let n=0;n<t.length;n++){const r=t[n];!e[r]&&(e[r]={}),e=e[r]}return e}}},9491:t=>{"use strict";t.exports=require("assert")},2057:t=>{"use strict";t.exports=require("constants")},7147:t=>{"use strict";t.exports=require("fs")},3292:t=>{"use strict";t.exports=require("fs/promises")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},3837:t=>{"use strict";t.exports=require("util")}},e={},function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}(6010);var t,e}));